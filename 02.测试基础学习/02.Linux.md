# Chapter 1. 前言

## Ⅰ Linux 简介

**操作系统定义：**所有硬件设备组装完成后的第一层软件，能够使用户使用硬件设备的软件即为操作系统

**Linux分类：**

- `Redhat` 系列：`OpenEuler`
- `Debian` 系列：`Ubuntu`



## Ⅱ 文件和路径

![image-20251125110306066](./assets/image-20251125110306066.png)

- `/`：根目录
- `/root`：系统管理员的目录
- `/usr`：系统应用程序存放的目录，一般安装的软件在这个目录
- `/etc`：系统配置文件存放的目录
- `/home`：系统普通用户的目录
- `/var`：放置系统执行过程中经常变化的文件，例如：日志文件
- `/bin`：存放着系统预设的执行文件



## Ⅲ 安装与连接

```bash
sudo apt install net-tools
```

要通过 `Mobaxterm` 连接这个Linux系统，需要先确认**Linux的SSH服务状态+网络互通**，再通过 `Mobaxterm` 新建SSH会话连接， 

先在Linux上准备SSH连接环境 

1. **安装SSH服务（如果没装）**   终端执行（需要管理员权限）：   

   ```bash
   sudo apt install openssh-server
   ```

2. **启动并开启SSH开机自启**   启动服务：

   ```bash
   sudo systemctl start ssh
   sudo systemctl enable ssh
   ```

3. **确认防火墙放行SSH（22端口）**   若系统开了防火墙，执行：  

    ```bash
    sudo ufw allow 22  # 放行22端口（SSH默认端口）
    sudo ufw reload    # 重载防火墙规则
    ```

用`Mobaxterm`连接的操作步骤 

1. 打开`Mobaxterm`，点击左上角的 **“Session”**（会话）按钮。 
2. 在弹出的窗口中，选择 **“SSH”** 选项。 
3. 在 **“Remote host”** 栏输入Linux的IP地址：`192.168.137.128`（从你提供的截图里能看到这个IP）。 
4. 在 **“Specify username”** 栏输入Linux的用户名（比如截图里的`wjy`）。 
5. 点击 **“OK”**，然后在弹出的终端里输入该Linux用户的密码，即可完成连接。  



# Chapter 2. Linux 命令

## Ⅰ 停止执行命令快捷键

```
ctrl+c
```



## Ⅱ 命令的基本组成

```bash
# 命令 [-选项] [参数]
command [-options] [parameter]
"""
commond:命令主体
[-options]:命令选项，根据命令可以显示更加丰富的数据
[parameter]:命令参数，命令的操作对象，一般文件、目录、用户和进程等都可以作为参数被命令操作
"""
```



## Ⅲ 处理目录的常用命令

```bash
ls（英文全拼：list files）: 列出目录及文件名
cd（英文全拼：change directory）：切换目录
pwd（英文全拼：print work directory）：显示目前的目录
mkdir（英文全拼：make directory）：创建一个新的目录
rmdir（英文全拼：remove directory）：删除一个空的目录
cp（英文全拼：copy file）: 复制文件或目录
rm（英文全拼：remove）: 删除文件或目录
mv（英文全拼：move file）: 移动文件与目录，或修改文件与目录的名称
touch：创建新文件或更新时间戳
```

你可以使用 `man [命令]` 来查看各个命令的使用文档，如 ：man cp。



### 一、 mv 命令

```bash
mv [选项] 源文件/目录 目标文件/目录
```

- 重命名文件
	```bash
	mv oldname.txt newname.txt
	```
	
- 移动文件到其他目录
	```bash
	mv document.pdf Documents/
	```
	
- 移动并同时重命名
	```bash
	mv report.docx Archive/report-2023.docx
	```
	
- 移动目录
	```bash
	mv photos/ Pictures/
	```
	
- 安全地移动（避免覆盖）

  ```bash
  - mv -i x.txt abc/
  ```



### 二、cp 命令

```bash
cp [选项] 源文件/目录 目标文件/目录
```

- 复制文件

  ```bash
  # 复制单个文件到指定目录
  cp file.txt /path/to/destination/
  
  # 复制并改名
  cp oldname.txt newname.txt
  
  # 复制多个文件到目标目录
  cp file1.txt file2.txt /path/to/destination/
  ```

- 复制目录

  ```bash
  # 递归复制整个目录（必须使用 -r 或 -a）
  cp -r /path/to/source_dir /path/to/destination_dir/
  
  # 归档复制（保留文件属性（权限、所有者、时间戳等），并递归复制目录。）
  cp -a /path/to/source_dir /path/to/destination_dir/
  ```

- 常用组合

  ```bash
  # 安全复制（覆盖前提示）
  cp -i file.txt /path/to/destination/
  
  # 显示复制过程
  cp -v file.txt /path/to/destination/
  ```

  

## Ⅳ 相对路径和绝对路径

- `..`：上一层目录
- `/`：根目录
- `~`：当前用户的家目录



## Ⅴ Linux 文件内容查看

```bash
cat  由第一行开始显示文件内容
tac  从最后一行开始显示，可以看出 tac 是 cat 的倒着写！
nl   显示的时候，顺道输出行号！
more 一页一页的显示文件内容
less 与 more 类似，但是比 more 更好的是，他可以往前翻页！
head 只看头几行
tail 只看尾巴几行
```



# Chapter 3. Linux 文件基本属性

在 Linux 中我们通常使用以下两个命令来修改文件或目录的所属用户与权限：

```bash
chown (change owner) ： 修改所属用户与组。
chmod (change mode) ： 修改用户的权限。
```

![image-20251126085520855](./assets/image-20251126085520855.png)

在 Linux 中第一个字符代表这个文件是目录、文件或链接文件等等。

- 当为 **d** 则是目录
- 当为` -` 则是文件
- 若是 **l** 则表示为链接文档(link file)；

![363003_1227493859FdXT](./assets/363003_1227493859FdXT.png)

如果用 `-`字符表示没有写权限。

第 **0** 位确定文件类型，第 **1-3** 位确定属主（该文件的所有者）拥有该文件的权限。第 **4-6** 位确定属组（所有者的同组用户）拥有该文件的权限，第 **7-9** 位确定其他用户拥有该文件的权限。



# Chapter 4. 案例

## 案例 2: cat/more/grep/重定向/管道符/clear

桌面上打开终端窗口，执行如下操作：

1. 将根目录下所有文件的详细信息输出到 demo 文件中 (包含隐藏文件)
2. 直接查看 demo 文件的内容
3. 将 `/usr/bin` 目录下所有文件的详细信息追加到 demo 文件中
4. 以分屏的形式查看 demo 文件的内容
5. 查找 demo 文件内容中包含 `mysql` 的信息
6. 在 `/usr/bin` 目录下所有文件的信息中查找包含 `mysql` 的信息
7. 清空当前终端窗口中的内容

```bash
ls -la / > demo
cat demo
ls -la /usr/bin >> demo
more demo
grep "mysql" demo
ls -la /usr/bin | grep "mysql"
clear
```



## 案例3:head/tail/tail -f 

在桌面上打开终端窗口，执行如下操作： 

1. 将根目录下所有文件的详细信息输出到 demo 文件中 
2. 查看 demo 文件前5行内容 
3. 查看 demo 文件后5行内容 
4. 将 ping www.itheima.com 的信息输出到 ping.log 文件中 
5. 重新开启一个终端窗口，动态查看 ping.log 文件中的信息

```bash
ls -l / > demo
head -n 5 demo
tail -n 5 demo
ping www.itheima.com > ping.log
tail -f ping.log
```



## 案例4：重启关机/查看系统信息

1. 查看当前系统内核版本信息
2. 查找当前系统发行版本信息
3. 重启当前系统
4. 关闭当前系统

``` bash
uname -a
cat /etc/os-release
reboot
shutdown -h now
```



## 案例5：ps/kill/top

1. 查看当前系统的进程信息 centos7
2. 重新打开 mysql_8.6.46_centos7
3. 获取 neo4j_8.6.46_centos7 的进程信息(进程ID)
4. 通过结束neo4j_8.6.46_centos7 进程的方式关闭程序
5. 打开当前系统的“任务管理器”（动态查看进程信息）

```
ps -aux
sudo systemctl restart mysql_8.6.46_centos7
ps aux | grep neo4j_8.6.46_centos7 | grep -v grep
kill-9 进程号
top
```

### 端口号

1. **定义**：TCP/UDP 协议中，用于标识主机上特定进程的数字（进程与外界通信的 “门牌号”）
2. **范围**：0-65535（共 65536 个）
   - 0-1023：知名端口（系统 / 常用服务占用，需 root 权限启动）
   - 1024-49151：注册端口（应用程序常用，可手动配置）
   - 49152+：动态端口（临时分配，用完释放）
3. 常用端口号（测试工作高频场景）
   - 80：HTTP
   - 443：HTTPS
   - 22：SSH
   - 3306：MySQL



## 案例6：netstat / lsof

1. 查看当前系统中开放的端口有哪些 

   ```bash
   netstat -tulnp
   sudo lsof -i -P -n | grep LISTEN
   ```

2. 查看哪个程序正在使用 3306 端口(需要 root 用户权限)

   ```bash
   sudo netstat -tulnp | grep :3306
   sudo lsof -i :3306
   ```



## 案例8: which/su/passwd/exit/who 

在桌面上打开终端窗口，执行如下操作：

1. 查看 MySQL 程序的存放位置 
2. 从普通用户切换至 root 用户，再从 root 用户切换回普通用户 
3. 查看当前系统中所有登录用户的信息 
4. 退出当前终端窗口

``` bash
which MySQL
su - root
su 普通用户名
who
exit
```

