<!DOCTYPE html>

<html lang="zh-CN" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Python 初始化配置" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/c-api/init_config.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="PyInitConfig C API: Python 可以用 Py_InitializeFromInitConfig() 来初始化。 Py_RunMain() 函数可被用来编写定制的 Python 程序。 另请参阅 初始化、最终化与线程 。 示例: 运行时始终启用 Python 开发模式 的定制版 Python 的例子；出错时将返回-1: 创建配置: 错误处理: 获取选项: 配置选项的 na..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="https://docs.python.org/3.14/zh-cn/_images/social_previews/summary_c-api_init_config_285128bf.png" />
<meta property="og:image:alt" content="PyInitConfig C API: Python 可以用 Py_InitializeFromInitConfig() 来初始化。 Py_RunMain() 函数可被用来编写定制的 Python 程序。 另请参阅 初始化、最终化与线程 。 示例: 运行时始终启用 Python 开发模式 的定制版 Python 的例子；出错时将返回-1: 创建配置: 错误处理: 获取选项: 配置选项的 na..." />
<meta name="description" content="PyInitConfig C API: Python 可以用 Py_InitializeFromInitConfig() 来初始化。 Py_RunMain() 函数可被用来编写定制的 Python 程序。 另请参阅 初始化、最终化与线程 。 示例: 运行时始终启用 Python 开发模式 的定制版 Python 的例子；出错时将返回-1: 创建配置: 错误处理: 获取选项: 配置选项的 na..." />
<meta name="twitter:card" content="summary_large_image" />
<meta name="theme-color" content="#3776ab">

    <title>Python 初始化配置 &#8212; Python 3.14.0 文档</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=234b1a7c" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?v=8cd84f99" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css?v=5349f25f" />
    
    <script src="../_static/documentation_options.js?v=a595ec0e"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Python 3.14.0 文档 中搜索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="关于此文档" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="copyright" title="版权" href="../copyright.html" />
    <link rel="next" title="内存管理" href="memory.html" />
    <link rel="prev" title="初始化，最终化和线程" href="init.html" />
    
      
      <script defer file-types="bz2,epub,zip" data-domain="docs.python.org" src="https://analytics.python.org/js/script.file-downloads.outbound-links.js"></script>
      
      <link rel="canonical" href="https://docs.python.org/3/c-api/init_config.html">
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg">
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="菜单">
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo">
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="快速搜索" aria-label="快速搜索" type="search" name="q">
                <input type="submit" value="转到">
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    主题
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>自动</option>
        <option value="light">明亮</option>
        <option value="dark">黑暗</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">Python 初始化配置</a><ul>
<li><a class="reference internal" href="#pyinitconfig-c-api">PyInitConfig C API</a><ul>
<li><a class="reference internal" href="#example">示例</a></li>
<li><a class="reference internal" href="#create-config">创建配置</a></li>
<li><a class="reference internal" href="#error-handling">错误处理</a></li>
<li><a class="reference internal" href="#get-options">获取选项</a></li>
<li><a class="reference internal" href="#set-options">设置选项</a></li>
<li><a class="reference internal" href="#module">模块</a></li>
<li><a class="reference internal" href="#initialize-python">初始化 Python</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-options">配置选项</a></li>
<li><a class="reference internal" href="#runtime-python-configuration-api">运行时 Python 配置 API</a></li>
<li><a class="reference internal" href="#pyconfig-c-api">PyConfig C API</a><ul>
<li><a class="reference internal" href="#id1">示例</a></li>
<li><a class="reference internal" href="#pywidestringlist">PyWideStringList</a></li>
<li><a class="reference internal" href="#pystatus">PyStatus</a></li>
<li><a class="reference internal" href="#pypreconfig">PyPreConfig</a></li>
<li><a class="reference internal" href="#preinitialize-python-with-pypreconfig">使用 PyPreConfig 预初始化 Python</a></li>
<li><a class="reference internal" href="#pyconfig">PyConfig</a></li>
<li><a class="reference internal" href="#initialization-with-pyconfig">使用 PyConfig 初始化</a></li>
<li><a class="reference internal" href="#isolated-configuration">隔离配置</a></li>
<li><a class="reference internal" href="#python-configuration">Python 配置</a></li>
<li><a class="reference internal" href="#python-path-configuration">Python 路径配置</a></li>
</ul>
</li>
<li><a class="reference internal" href="#py-getargcargv">Py_GetArgcArgv()</a></li>
<li><a class="reference internal" href="#delaying-main-module-execution">延迟主模块的执行</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一主题</h4>
    <p class="topless"><a href="init.html"
                          title="上一章">初始化，最终化和线程</a></p>
  </div>
  <div>
    <h4>下一主题</h4>
    <p class="topless"><a href="memory.html"
                          title="下一章">内存管理</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>当前页</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">报告代码错误</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/c-api/init_config.rst?plain=1"
            rel="nofollow">显示源码
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="Related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="memory.html" title="内存管理"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="init.html" title="初始化，最终化和线程"
             accesskey="P">上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.14.0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Python/C API 参考手册</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Python 初始化配置</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="search" name="q" id="search-box">
          <input type="submit" value="转到">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    主题
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>自动</option>
        <option value="light">明亮</option>
        <option value="dark">黑暗</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="python-initialization-configuration">
<span id="init-config"></span><h1 class="translated">Python 初始化配置<a class="headerlink" href="#python-initialization-configuration" title="Link to this heading">¶</a></h1>
<section id="pyinitconfig-c-api">
<span id="pyinitconfig-api"></span><h2 class="translated">PyInitConfig C API<a class="headerlink" href="#pyinitconfig-c-api" title="Link to this heading">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.14.</span></p>
</div>
<p class="translated">Python 可以用 <a class="reference internal" href="#c.Py_InitializeFromInitConfig" title="Py_InitializeFromInitConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_InitializeFromInitConfig()</span></code></a> 来初始化。</p>
<p class="translated"><a class="reference internal" href="init.html#c.Py_RunMain" title="Py_RunMain"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_RunMain()</span></code></a> 函数可被用来编写定制的 Python 程序。</p>
<p class="translated">另请参阅 <a class="reference internal" href="init.html#initialization"><span class="std std-ref">初始化、最终化与线程</span></a>。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p class="translated"><span class="target" id="index-89"></span><a class="pep reference external" href="https://peps.python.org/pep-0741/"><strong>PEP 741</strong></a> &quot;Python 配置 C API&quot;。</p>
</div>
<section id="example">
<h3 class="translated">示例<a class="headerlink" href="#example" title="Link to this heading">¶</a></h3>
<p class="translated">运行时始终启用 <a class="reference internal" href="../library/devmode.html#devmode"><span class="std std-ref">Python 开发模式</span></a> 的定制版 Python 的例子；出错时将返回 <code class="docutils literal notranslate"><span class="pre">-1</span></code>:</p>
<div class="translated highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">init_python</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">PyInitConfig</span><span class="w"> </span><span class="o">*</span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PyInitConfig_Create</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">config</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;PYTHON INIT ERROR: memory allocation failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 启用 Python 开发模式</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyInitConfig_SetInt</span><span class="p">(</span><span class="n">config</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;dev_mode&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 使用配置初始化 Python</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Py_InitializeFromInitConfig</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">PyInitConfig_Free</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="nl">error</span><span class="p">:</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 显示错误消息</span>
<span class="w">        </span><span class="c1">//</span>
<span class="w">        </span><span class="c1">// 使用这种不常见的花括号风格，因为你不能</span>
<span class="w">        </span><span class="c1">// 将跳转目标指向变量声明。</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">err_msg</span><span class="p">;</span>
<span class="w">        </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">PyInitConfig_GetError</span><span class="p">(</span><span class="n">config</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">err_msg</span><span class="p">);</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;PYTHON INIT ERROR: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">err_msg</span><span class="p">);</span>
<span class="w">        </span><span class="n">PyInitConfig_Free</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="create-config">
<h3 class="translated">创建配置<a class="headerlink" href="#create-config" title="Link to this heading">¶</a></h3>
<dl class="c struct">
<dt class="sig sig-object c" id="c.PyInitConfig">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig</span></span></span><a class="headerlink" href="#c.PyInitConfig" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">用于配置 Python 初始化的不透明结构体。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_Create">
<a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_Create</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_Create" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">使用 <a class="reference internal" href="#init-isolated-conf"><span class="std std-ref">隔离配置</span></a> 的默认值新建一个初始化配置。</p>
<p class="translated">它必须由 <a class="reference internal" href="#c.PyInitConfig_Free" title="PyInitConfig_Free"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyInitConfig_Free()</span></code></a> 来释放。</p>
<p class="translated">内存分配失败时返回 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_Free">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_Free</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_Free" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">释放初始化配置 <em>config</em> 的内存。</p>
<p class="translated">如果 <em>config</em> 为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>，则不执行任何操作。</p>
</dd></dl>

</section>
<section id="error-handling">
<h3 class="translated">错误处理<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h3>
<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_GetError">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_GetError</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">err_msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_GetError" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">获取 <em>config</em> 错误消息。</p>
<ul class="simple">
<li><p class="translated">如果设置了一个错误则设置 <em>*err_msg</em> 并返回 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p></li>
<li><p class="translated">在其他情况下将 <em>*err_msg</em> 设为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code> 并返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
</ul>
<p class="translated">错误消息是一个 UTF-8 编码的字符串。</p>
<p class="translated">如果 <em>config</em> 具有一个退出码，则将退出码格式化为错误消息。</p>
<p class="translated">错误消息将保持无效直到调用另一个 <code class="docutils literal notranslate"><span class="pre">PyInitConfig</span></code> 并附带 <em>config</em>。 调用方不必释放错误消息。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_GetExitCode">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_GetExitCode</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">exitcode</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_GetExitCode" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">获取 <em>config</em> 退出码。</p>
<ul class="simple">
<li><p class="translated">如果 <em>config</em> 设置了一个退出码则设置 <em>*exitcode</em> 并返回 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p></li>
<li><p class="translated">如果 <em>config</em> 没有设置退出码则返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
</ul>
<p class="translated">如果 <code class="docutils literal notranslate"><span class="pre">parse_argv</span></code> 选项为非零值则只有 <code class="docutils literal notranslate"><span class="pre">Py_InitializeFromInitConfig()</span></code> 函数能设置退出码。</p>
<p class="translated">退出码的设置可以在解析命令行失败时 (退出码 <code class="docutils literal notranslate"><span class="pre">2</span></code>) 或是在命令行选项请求显示命令行帮助时 (退出码 <code class="docutils literal notranslate"><span class="pre">0</span></code>) 进行。</p>
</dd></dl>

</section>
<section id="get-options">
<h3 class="translated">获取选项<a class="headerlink" href="#get-options" title="Link to this heading">¶</a></h3>
<p class="translated">配置选项的 <em>name</em> 形参必须是一个非 NULL 的以空值结束的 UTF-8 编码字符串。 参见 <a class="reference internal" href="#pyinitconfig-opts"><span class="std std-ref">配置选项</span></a>。</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_HasOption">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_HasOption</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_HasOption" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">检测配置是否具有一个名为 <em>name</em> 的选项。</p>
<p class="translated">如果选项存在则返回 <code class="docutils literal notranslate"><span class="pre">1</span></code>，否则返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_GetInt">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_GetInt</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_GetInt" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">获取一个整数形式的配置选项。</p>
<ul class="simple">
<li><p class="translated">在成功时设置 <em>*value</em>，并返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p class="translated">在出错时在 <em>config</em> 中设置一个错误并返回 <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p></li>
</ul>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_GetStr">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_GetStr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_GetStr" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">获取一个以空值结束的 UTF-8 编码字符串形式的字符串配置选项。</p>
<ul class="simple">
<li><p class="translated">在成功时设置 <em>*value</em>，并返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p class="translated">在出错时在 <em>config</em> 中设置一个错误并返回 <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p></li>
</ul>
<p class="translated">如果选项是一个可选字符串并且选项被取消设置则 <em>*value</em> 可被设为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>。</p>
<p class="translated">在成功时，字符串如果不为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code> 则必须用 <code class="docutils literal notranslate"><span class="pre">free(value)</span></code> 来释放它。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_GetStrList">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_GetStrList</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">length</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">items</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_GetStrList" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">获取一个由以空值结束的 UTF-8 编码字符串组成的数组形式的字符串列表配置选项。</p>
<ul class="simple">
<li><p class="translated">在成功时设置 <em>*length</em> 和 <em>*value</em>，并返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p class="translated">在出错时在 <em>config</em> 中设置一个错误并返回 <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p></li>
</ul>
<p class="translated">在成功时，字符串列表必须用 <code class="docutils literal notranslate"><span class="pre">PyInitConfig_FreeStrList(length,</span> <span class="pre">items)</span></code> 来释放。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_FreeStrList">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_FreeStrList</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">length</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">items</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_FreeStrList" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">释放由 <code class="docutils literal notranslate"><span class="pre">PyInitConfig_GetStrList()</span></code> 创建的字符串列表的内存。</p>
</dd></dl>

</section>
<section id="set-options">
<h3 class="translated">设置选项<a class="headerlink" href="#set-options" title="Link to this heading">¶</a></h3>
<p class="translated">配置选项的 <em>name</em> 形参必须是一个非 NULL 的以空值结束的 UTF-8 编码字符串。 参见 <a class="reference internal" href="#pyinitconfig-opts"><span class="std std-ref">配置选项</span></a>。</p>
<p class="translated">某些配置选项具有对其他选项的附带影响。 这种逻辑仅限于调用了 <code class="docutils literal notranslate"><span class="pre">Py_InitializeFromInitConfig()</span></code> 的时候，而不被下面的“设置”函数所实现。 例如，将 <code class="docutils literal notranslate"><span class="pre">dev_mode</span></code> 设为 <code class="docutils literal notranslate"><span class="pre">1</span></code> 并不会将 <code class="docutils literal notranslate"><span class="pre">faulthandler</span></code> 设为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_SetInt">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_SetInt</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_SetInt" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">设置一个整数形式的配置选项。</p>
<ul class="simple">
<li><p class="translated">成功时返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p class="translated">在出错时在 <em>config</em> 中设置一个错误并返回 <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p></li>
</ul>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_SetStr">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_SetStr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_SetStr" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">设置一个以空值结束的 UTF-8 编码字符串形式的字符串配置选项。 该字符串将被拷贝。</p>
<ul class="simple">
<li><p class="translated">成功时返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p class="translated">在出错时在 <em>config</em> 中设置一个错误并返回 <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p></li>
</ul>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_SetStrList">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_SetStrList</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">length</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">items</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_SetStrList" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">设置一个由以空值结束的 UTF-8 编码字符串组成的数组形式的字符串列表配置选项。 该字符串列表将被拷贝。</p>
<ul class="simple">
<li><p class="translated">成功时返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p class="translated">在出错时在 <em>config</em> 中设置一个错误并返回 <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p></li>
</ul>
</dd></dl>

</section>
<section id="module">
<h3 class="translated">模块<a class="headerlink" href="#module" title="Link to this heading">¶</a></h3>
<dl class="c function">
<dt class="sig sig-object c" id="c.PyInitConfig_AddModule">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyInitConfig_AddModule</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <a class="reference internal" href="structures.html#c.PyObject" title="PyObject"><span class="n"><span class="pre">PyObject</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">initfunc</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyInitConfig_AddModule" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">将一个内置扩展模块添加到内置模块表。</p>
<p class="translated">这个新模块可按名称 <em>name</em> 导入，并使用函数 <em>initfunc</em> 作为在首次尝试导入时要调用的初始化函数。</p>
<ul class="simple">
<li><p class="translated">成功时返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p class="translated">在出错时在 <em>config</em> 中设置一个错误并返回 <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p></li>
</ul>
<p class="translated">如果 Python 要被多次初始化，则 <code class="docutils literal notranslate"><span class="pre">PyInitConfig_AddModule()</span></code> 必须在每次 Python 初始化时被调用。</p>
<p class="translated">类似于 <a class="reference internal" href="import.html#c.PyImport_AppendInittab" title="PyImport_AppendInittab"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_AppendInittab()</span></code></a> 函数。</p>
</dd></dl>

</section>
<section id="initialize-python">
<h3 class="translated">初始化 Python<a class="headerlink" href="#initialize-python" title="Link to this heading">¶</a></h3>
<dl class="c function">
<dt class="sig sig-object c" id="c.Py_InitializeFromInitConfig">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Py_InitializeFromInitConfig</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyInitConfig" title="PyInitConfig"><span class="n"><span class="pre">PyInitConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.Py_InitializeFromInitConfig" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">根据初始化配置来初始化 Python。</p>
<ul class="simple">
<li><p class="translated">成功时返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p class="translated">在出错时在 <em>config</em> 中设置一个错误并返回 <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p></li>
<li><p class="translated">如果 Python 想要退出则在 <em>config</em> 中设置一个退出码并返回 <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p></li>
</ul>
<p class="translated">请参阅 <code class="docutils literal notranslate"><span class="pre">PyInitConfig_GetExitcode()</span></code> 了解退出码用例。</p>
</dd></dl>

</section>
</section>
<section id="configuration-options">
<span id="pyinitconfig-opts"></span><h2 class="translated">配置选项<a class="headerlink" href="#configuration-options" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p class="translated">属性</p></th>
<th class="head"><p class="translated">PyConfig/PyPreConfig 成员</p></th>
<th class="head"><p class="translated">类型</p></th>
<th class="head"><p class="translated">可见性</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;allocator&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyPreConfig.allocator" title="PyPreConfig.allocator"><code class="xref c c-member docutils literal notranslate"><span class="pre">allocator</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;argv&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">list[str]</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;base_exec_prefix&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.base_exec_prefix" title="PyConfig.base_exec_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">base_exec_prefix</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;base_executable&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.base_executable" title="PyConfig.base_executable"><code class="xref c c-member docutils literal notranslate"><span class="pre">base_executable</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;base_prefix&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.base_prefix" title="PyConfig.base_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">base_prefix</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;buffered_stdio&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.buffered_stdio" title="PyConfig.buffered_stdio"><code class="xref c c-member docutils literal notranslate"><span class="pre">buffered_stdio</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;bytes_warning&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.bytes_warning" title="PyConfig.bytes_warning"><code class="xref c c-member docutils literal notranslate"><span class="pre">bytes_warning</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;check_hash_pycs_mode&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.check_hash_pycs_mode" title="PyConfig.check_hash_pycs_mode"><code class="xref c c-member docutils literal notranslate"><span class="pre">check_hash_pycs_mode</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;code_debug_ranges&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.code_debug_ranges" title="PyConfig.code_debug_ranges"><code class="xref c c-member docutils literal notranslate"><span class="pre">code_debug_ranges</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;coerce_c_locale&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyPreConfig.coerce_c_locale" title="PyPreConfig.coerce_c_locale"><code class="xref c c-member docutils literal notranslate"><span class="pre">coerce_c_locale</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;coerce_c_locale_warn&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyPreConfig.coerce_c_locale_warn" title="PyPreConfig.coerce_c_locale_warn"><code class="xref c c-member docutils literal notranslate"><span class="pre">coerce_c_locale_warn</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;configure_c_stdio&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.configure_c_stdio" title="PyConfig.configure_c_stdio"><code class="xref c c-member docutils literal notranslate"><span class="pre">configure_c_stdio</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;configure_locale&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyPreConfig.configure_locale" title="PyPreConfig.configure_locale"><code class="xref c c-member docutils literal notranslate"><span class="pre">configure_locale</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;cpu_count&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.cpu_count" title="PyConfig.cpu_count"><code class="xref c c-member docutils literal notranslate"><span class="pre">cpu_count</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;dev_mode&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.dev_mode" title="PyConfig.dev_mode"><code class="xref c c-member docutils literal notranslate"><span class="pre">dev_mode</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;dump_refs&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.dump_refs" title="PyConfig.dump_refs"><code class="xref c c-member docutils literal notranslate"><span class="pre">dump_refs</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;dump_refs_file&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.dump_refs_file" title="PyConfig.dump_refs_file"><code class="xref c c-member docutils literal notranslate"><span class="pre">dump_refs_file</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;exec_prefix&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.exec_prefix" title="PyConfig.exec_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">exec_prefix</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;executable&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.executable" title="PyConfig.executable"><code class="xref c c-member docutils literal notranslate"><span class="pre">executable</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;faulthandler&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.faulthandler" title="PyConfig.faulthandler"><code class="xref c c-member docutils literal notranslate"><span class="pre">faulthandler</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;filesystem_encoding&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.filesystem_encoding" title="PyConfig.filesystem_encoding"><code class="xref c c-member docutils literal notranslate"><span class="pre">filesystem_encoding</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;filesystem_errors&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.filesystem_errors" title="PyConfig.filesystem_errors"><code class="xref c c-member docutils literal notranslate"><span class="pre">filesystem_errors</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;hash_seed&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.hash_seed" title="PyConfig.hash_seed"><code class="xref c c-member docutils literal notranslate"><span class="pre">hash_seed</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;home&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.home" title="PyConfig.home"><code class="xref c c-member docutils literal notranslate"><span class="pre">home</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;import_time&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.import_time" title="PyConfig.import_time"><code class="xref c c-member docutils literal notranslate"><span class="pre">import_time</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;inspect&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.inspect" title="PyConfig.inspect"><code class="xref c c-member docutils literal notranslate"><span class="pre">inspect</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;install_signal_handlers&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.install_signal_handlers" title="PyConfig.install_signal_handlers"><code class="xref c c-member docutils literal notranslate"><span class="pre">install_signal_handlers</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;int_max_str_digits&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.int_max_str_digits" title="PyConfig.int_max_str_digits"><code class="xref c c-member docutils literal notranslate"><span class="pre">int_max_str_digits</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;interactive&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.interactive" title="PyConfig.interactive"><code class="xref c c-member docutils literal notranslate"><span class="pre">interactive</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;isolated&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.isolated" title="PyConfig.isolated"><code class="xref c c-member docutils literal notranslate"><span class="pre">isolated</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;legacy_windows_fs_encoding&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyPreConfig.legacy_windows_fs_encoding" title="PyPreConfig.legacy_windows_fs_encoding"><code class="xref c c-member docutils literal notranslate"><span class="pre">legacy_windows_fs_encoding</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;legacy_windows_stdio&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.legacy_windows_stdio" title="PyConfig.legacy_windows_stdio"><code class="xref c c-member docutils literal notranslate"><span class="pre">legacy_windows_stdio</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;malloc_stats&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.malloc_stats" title="PyConfig.malloc_stats"><code class="xref c c-member docutils literal notranslate"><span class="pre">malloc_stats</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;module_search_paths&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.module_search_paths" title="PyConfig.module_search_paths"><code class="xref c c-member docutils literal notranslate"><span class="pre">module_search_paths</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">list[str]</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;optimization_level&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.optimization_level" title="PyConfig.optimization_level"><code class="xref c c-member docutils literal notranslate"><span class="pre">optimization_level</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;orig_argv&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.orig_argv" title="PyConfig.orig_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">orig_argv</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">list[str]</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;parse_argv&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.parse_argv" title="PyConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">parse_argv</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;parser_debug&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.parser_debug" title="PyConfig.parser_debug"><code class="xref c c-member docutils literal notranslate"><span class="pre">parser_debug</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;pathconfig_warnings&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.pathconfig_warnings" title="PyConfig.pathconfig_warnings"><code class="xref c c-member docutils literal notranslate"><span class="pre">pathconfig_warnings</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;perf_profiling&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.perf_profiling" title="PyConfig.perf_profiling"><code class="xref c c-member docutils literal notranslate"><span class="pre">perf_profiling</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;platlibdir&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.platlibdir" title="PyConfig.platlibdir"><code class="xref c c-member docutils literal notranslate"><span class="pre">platlibdir</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;prefix&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.prefix" title="PyConfig.prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">prefix</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;program_name&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.program_name" title="PyConfig.program_name"><code class="xref c c-member docutils literal notranslate"><span class="pre">program_name</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;pycache_prefix&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.pycache_prefix" title="PyConfig.pycache_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">pycache_prefix</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;quiet&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.quiet" title="PyConfig.quiet"><code class="xref c c-member docutils literal notranslate"><span class="pre">quiet</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;run_command&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.run_command" title="PyConfig.run_command"><code class="xref c c-member docutils literal notranslate"><span class="pre">run_command</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;run_filename&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.run_filename" title="PyConfig.run_filename"><code class="xref c c-member docutils literal notranslate"><span class="pre">run_filename</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;run_module&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.run_module" title="PyConfig.run_module"><code class="xref c c-member docutils literal notranslate"><span class="pre">run_module</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;run_presite&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.run_presite" title="PyConfig.run_presite"><code class="xref c c-member docutils literal notranslate"><span class="pre">run_presite</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;safe_path&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.safe_path" title="PyConfig.safe_path"><code class="xref c c-member docutils literal notranslate"><span class="pre">safe_path</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;show_ref_count&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.show_ref_count" title="PyConfig.show_ref_count"><code class="xref c c-member docutils literal notranslate"><span class="pre">show_ref_count</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;site_import&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.site_import" title="PyConfig.site_import"><code class="xref c c-member docutils literal notranslate"><span class="pre">site_import</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;skip_source_first_line&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.skip_source_first_line" title="PyConfig.skip_source_first_line"><code class="xref c c-member docutils literal notranslate"><span class="pre">skip_source_first_line</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;stdio_encoding&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.stdio_encoding" title="PyConfig.stdio_encoding"><code class="xref c c-member docutils literal notranslate"><span class="pre">stdio_encoding</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;stdio_errors&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.stdio_errors" title="PyConfig.stdio_errors"><code class="xref c c-member docutils literal notranslate"><span class="pre">stdio_errors</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;stdlib_dir&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.stdlib_dir" title="PyConfig.stdlib_dir"><code class="xref c c-member docutils literal notranslate"><span class="pre">stdlib_dir</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;tracemalloc&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.tracemalloc" title="PyConfig.tracemalloc"><code class="xref c c-member docutils literal notranslate"><span class="pre">tracemalloc</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;use_environment&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.use_environment" title="PyConfig.use_environment"><code class="xref c c-member docutils literal notranslate"><span class="pre">use_environment</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;use_frozen_modules&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.use_frozen_modules" title="PyConfig.use_frozen_modules"><code class="xref c c-member docutils literal notranslate"><span class="pre">use_frozen_modules</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;use_hash_seed&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.use_hash_seed" title="PyConfig.use_hash_seed"><code class="xref c c-member docutils literal notranslate"><span class="pre">use_hash_seed</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;use_system_logger&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.use_system_logger" title="PyConfig.use_system_logger"><code class="xref c c-member docutils literal notranslate"><span class="pre">use_system_logger</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;user_site_directory&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.user_site_directory" title="PyConfig.user_site_directory"><code class="xref c c-member docutils literal notranslate"><span class="pre">user_site_directory</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;utf8_mode&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyPreConfig.utf8_mode" title="PyPreConfig.utf8_mode"><code class="xref c c-member docutils literal notranslate"><span class="pre">utf8_mode</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;verbose&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.verbose" title="PyConfig.verbose"><code class="xref c c-member docutils literal notranslate"><span class="pre">verbose</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;warn_default_encoding&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.warn_default_encoding" title="PyConfig.warn_default_encoding"><code class="xref c c-member docutils literal notranslate"><span class="pre">warn_default_encoding</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;warnoptions&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.warnoptions" title="PyConfig.warnoptions"><code class="xref c c-member docutils literal notranslate"><span class="pre">warnoptions</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">list[str]</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;write_bytecode&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.write_bytecode" title="PyConfig.write_bytecode"><code class="xref c c-member docutils literal notranslate"><span class="pre">write_bytecode</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;xoptions&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig.xoptions" title="PyConfig.xoptions"><code class="xref c c-member docutils literal notranslate"><span class="pre">xoptions</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">str]</span></code></p></td>
<td><p class="translated">公有</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;_pystats&quot;</span></code></p></td>
<td><p class="translated"><a class="reference internal" href="#c.PyConfig._pystats" title="PyConfig._pystats"><code class="xref c c-member docutils literal notranslate"><span class="pre">_pystats</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p class="translated">只读</p></td>
</tr>
</tbody>
</table>
<p class="translated">可见性：</p>
<ul class="simple">
<li><p class="translated">公有：可由 <a class="reference internal" href="#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get()</span></code></a> 获取并由 <a class="reference internal" href="#c.PyConfig_Set" title="PyConfig_Set"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Set()</span></code></a> 设置。</p></li>
<li><p class="translated">只读：可由 <a class="reference internal" href="#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get()</span></code></a> 获取，但不可由 <a class="reference internal" href="#c.PyConfig_Set" title="PyConfig_Set"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Set()</span></code></a> 设置。</p></li>
</ul>
</section>
<section id="runtime-python-configuration-api">
<h2 class="translated">运行时 Python 配置 API<a class="headerlink" href="#runtime-python-configuration-api" title="Link to this heading">¶</a></h2>
<p class="translated">在运行时，有可能使用 <a class="reference internal" href="#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get()</span></code></a> 和  <a class="reference internal" href="#c.PyConfig_Set" title="PyConfig_Set"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Set()</span></code></a> 函数来获取和设置配置选项。</p>
<p class="translated">配置选项的 <em>name</em> 形参必须是一个非 NULL 的以空值结束的 UTF-8 编码字符串。 参见 <a class="reference internal" href="#pyinitconfig-opts"><span class="std std-ref">配置选项</span></a>。</p>
<p class="translated">有些选项是从 <a class="reference internal" href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a> 的属性读取的。 例如，选项 <code class="docutils literal notranslate"><span class="pre">&quot;argv&quot;</span></code> 是从 <a class="reference internal" href="../library/sys.html#sys.argv" title="sys.argv"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.argv</span></code></a> 读取的。</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_Get">
<a class="reference internal" href="structures.html#c.PyObject" title="PyObject"><span class="n"><span class="pre">PyObject</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_Get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_Get" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">获取一个配置选项的以 Python 对象表示的当前运行时值。</p>
<ul class="simple">
<li><p class="translated">成功时返回一个新的引用。</p></li>
<li><p class="translated">出错时设置一个异常并返回 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>。</p></li>
</ul>
<p class="translated">对象类型取决于具体的配置选项。 它可以是：</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">list[str]</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">str]</span></code></p></li>
</ul>
<p class="translated">调用方必须拥有一个 <a class="reference internal" href="../glossary.html#term-attached-thread-state"><span class="xref std std-term">attached thread state</span></a>。 这个函数不能在 Python 初始化之前或 Python 最终后之后被调用。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.14.</span></p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_GetInt">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_GetInt</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_GetInt" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">类似于 <a class="reference internal" href="#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get()</span></code></a>，但会获取 C int 形式的值。</p>
<ul class="simple">
<li><p class="translated">成功时返回 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p class="translated">出错时设置一个异常并返回 <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.14.</span></p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_Names">
<a class="reference internal" href="structures.html#c.PyObject" title="PyObject"><span class="n"><span class="pre">PyObject</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_Names</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_Names" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">获取以一个 <code class="docutils literal notranslate"><span class="pre">frozenset</span></code> 表示的全部配置选项名称。</p>
<ul class="simple">
<li><p class="translated">成功时返回一个新的引用。</p></li>
<li><p class="translated">出错时设置一个异常并返回 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>。</p></li>
</ul>
<p class="translated">调用方必须拥有一个 <a class="reference internal" href="../glossary.html#term-attached-thread-state"><span class="xref std std-term">attached thread state</span></a>。 这个函数不能在 Python 初始化之前或 Python 最终后之后被调用。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.14.</span></p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_Set">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_Set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <a class="reference internal" href="structures.html#c.PyObject" title="PyObject"><span class="n"><span class="pre">PyObject</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_Set" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">设置一个配置选项的当前运行时值。</p>
<ul class="simple">
<li><p class="translated">如果没有选项 <em>name</em> 则会引发 <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>。</p></li>
<li><p class="translated">如果 <em>value</em> 是一个无效的值则会引发 <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>。</p></li>
<li><p class="translated">如果选项是只读的（无法被设置）则会引发 <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>。</p></li>
<li><p class="translated">如果 <em>value</em> 的类型不正确则会引发 <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>。</p></li>
</ul>
<p class="translated">调用方必须拥有一个 <a class="reference internal" href="../glossary.html#term-attached-thread-state"><span class="xref std std-term">attached thread state</span></a>。 这个函数不能在 Python 初始化之前或 Python 最终后之后被调用。</p>
<p class="audit-hook translated">引发一个 <a class="reference internal" href="../library/sys.html#auditing"><span class="std std-ref">审计事件</span></a> <code class="docutils literal notranslate"><span class="pre">cpython.PyConfig_Set</span></code> 并附带参数 <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">value</span></code>。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.14.</span></p>
</div>
</dd></dl>

</section>
<section id="pyconfig-c-api">
<span id="pyconfig-api"></span><h2 class="translated">PyConfig C API<a class="headerlink" href="#pyconfig-c-api" title="Link to this heading">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.8.</span></p>
</div>
<p class="translated">Python 可以使用 <a class="reference internal" href="init.html#c.Py_InitializeFromConfig" title="Py_InitializeFromConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_InitializeFromConfig()</span></code></a> 和 <a class="reference internal" href="#c.PyConfig" title="PyConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyConfig</span></code></a> 结构体来初始化。 它可以使用 <a class="reference internal" href="#c.Py_PreInitialize" title="Py_PreInitialize"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_PreInitialize()</span></code></a> 和 <a class="reference internal" href="#c.PyPreConfig" title="PyPreConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyPreConfig</span></code></a> 结构体来预初始化。</p>
<p class="translated">有两种配置方式：</p>
<ul class="simple">
<li><p class="translated"><a class="reference internal" href="#init-python-config"><span class="std std-ref">Python 配置</span></a> 可被用于构建一个定制的 Python，其行为与常规 Python 类似。 例如，环境变量和命令行参数可被用于配置 Python。</p></li>
<li><p class="translated"><a class="reference internal" href="#init-isolated-conf"><span class="std std-ref">隔离配置</span></a> 可被用于将 Python 嵌入到应用程序。 它将 Python 与系统隔离开来。 例如，环境变量将被忽略，LC_CTYPE 语言区域设置保持不变并且不会注册任何信号处理器。</p></li>
</ul>
<p class="translated"><a class="reference internal" href="init.html#c.Py_RunMain" title="Py_RunMain"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_RunMain()</span></code></a> 函数可被用来编写定制的 Python 程序。</p>
<p class="translated">另请参阅 <a class="reference internal" href="init.html#initialization"><span class="std std-ref">初始化、最终化与线程</span></a>。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p class="translated"><span class="target" id="index-90"></span><a class="pep reference external" href="https://peps.python.org/pep-0587/"><strong>PEP 587</strong></a> &quot;Python 初始化配置&quot;.</p>
</div>
<section id="id1">
<h3 class="translated">示例<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p class="translated">定制的 Python 的示例总是会以隔离模式运行:</p>
<div class="translated highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">PyStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>

<span class="w">    </span><span class="n">PyConfig</span><span class="w"> </span><span class="n">config</span><span class="p">;</span>
<span class="w">    </span><span class="n">PyConfig_InitPythonConfig</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="w">    </span><span class="n">config</span><span class="p">.</span><span class="n">isolated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/* 解码命令行参数。</span>
<span class="cm">       隐式地预初始化 Python (隔离模式)。 */</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PyConfig_SetBytesArgv</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">,</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_Exception</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">exception</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Py_InitializeFromConfig</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_Exception</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">exception</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">PyConfig_Clear</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Py_RunMain</span><span class="p">();</span>

<span class="nl">exception</span><span class="p">:</span>
<span class="w">    </span><span class="n">PyConfig_Clear</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_IsExit</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">.</span><span class="n">exitcode</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="cm">/* 显示错误消息然后退出进程</span>
<span class="cm">       并设置非零值退出码 */</span>
<span class="w">    </span><span class="n">Py_ExitStatusException</span><span class="p">(</span><span class="n">status</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="pywidestringlist">
<h3 class="translated">PyWideStringList<a class="headerlink" href="#pywidestringlist" title="Link to this heading">¶</a></h3>
<dl class="c type">
<dt class="sig sig-object c" id="c.PyWideStringList">
<span class="k"><span class="pre">type</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyWideStringList</span></span></span><a class="headerlink" href="#c.PyWideStringList" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">由 <code class="docutils literal notranslate"><span class="pre">wchar_t*</span></code> 字符串组成的列表。</p>
<p class="translated">如果 <em>length</em> 为非零值，则 <em>items</em> 必须不为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code> 并且所有字符串均必须不为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>。</p>
<p class="translated">方法</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.PyWideStringList_Append">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyWideStringList_Append</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyWideStringList" title="PyWideStringList"><span class="n"><span class="pre">PyWideStringList</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">list</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">item</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyWideStringList_Append" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">将 <em>item</em> 添加到 <em>list</em>。</p>
<p class="translated">Python 必须被预初始化以便调用此函数。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyWideStringList_Insert">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyWideStringList_Insert</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyWideStringList" title="PyWideStringList"><span class="n"><span class="pre">PyWideStringList</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">list</span></span>, <a class="reference internal" href="intro.html#c.Py_ssize_t" title="Py_ssize_t"><span class="n"><span class="pre">Py_ssize_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">index</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">item</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyWideStringList_Insert" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">将 <em>item</em> 插入到 <em>list</em> 的 <em>index</em> 位置上。</p>
<p class="translated">如果 <em>index</em> 大于等于 <em>list</em> 的长度，则将 <em>item</em> 添加到 <em>list</em>。</p>
<p class="translated"><em>index</em> 必须大于等于 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p class="translated">Python 必须被预初始化以便调用此函数。</p>
</dd></dl>

<p class="translated">结构体字段:</p>
<dl class="c member">
<dt class="sig sig-object c" id="c.PyWideStringList.length">
<a class="reference internal" href="intro.html#c.Py_ssize_t" title="Py_ssize_t"><span class="n"><span class="pre">Py_ssize_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">length</span></span></span><a class="headerlink" href="#c.PyWideStringList.length" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">List 长度。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyWideStringList.items">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">items</span></span></span><a class="headerlink" href="#c.PyWideStringList.items" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">列表项目。</p>
</dd></dl>

</dd></dl>

</section>
<section id="pystatus">
<h3 class="translated">PyStatus<a class="headerlink" href="#pystatus" title="Link to this heading">¶</a></h3>
<dl class="c type">
<dt class="sig sig-object c" id="c.PyStatus">
<span class="k"><span class="pre">type</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyStatus</span></span></span><a class="headerlink" href="#c.PyStatus" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">存储初始函数状态：成功、错误或退出的结构体。</p>
<p class="translated">对于错误，它可以存储造成错误的 C 函数的名称。</p>
<p class="translated">结构体字段:</p>
<dl class="c member">
<dt class="sig sig-object c" id="c.PyStatus.exitcode">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">exitcode</span></span></span><a class="headerlink" href="#c.PyStatus.exitcode" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">退出码。 传给 <code class="docutils literal notranslate"><span class="pre">exit()</span></code> 的参数。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyStatus.err_msg">
<span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">err_msg</span></span></span><a class="headerlink" href="#c.PyStatus.err_msg" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">错误信息</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyStatus.func">
<span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">func</span></span></span><a class="headerlink" href="#c.PyStatus.func" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">造成错误的函数的名称，可以为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>。</p>
</dd></dl>

<p class="translated">创建状态的函数:</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.PyStatus_Ok">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyStatus_Ok</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyStatus_Ok" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">完成。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyStatus_Error">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyStatus_Error</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">err_msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyStatus_Error" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">带消息的初始化错误。</p>
<p class="translated"><em>err_msg</em> 不可为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyStatus_NoMemory">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyStatus_NoMemory</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyStatus_NoMemory" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">内存分配失败（内存不足）。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyStatus_Exit">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyStatus_Exit</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">exitcode</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyStatus_Exit" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">以指定的退出代码退出 Python。</p>
</dd></dl>

<p class="translated">处理状态的函数:</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.PyStatus_Exception">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyStatus_Exception</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="n"><span class="pre">status</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyStatus_Exception" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">状态为错误还是退出？如为真值，则异常必须被处理；例如通过调用 <a class="reference internal" href="#c.Py_ExitStatusException" title="Py_ExitStatusException"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_ExitStatusException()</span></code></a>。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyStatus_IsError">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyStatus_IsError</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="n"><span class="pre">status</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyStatus_IsError" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">结果错误吗？</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyStatus_IsExit">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyStatus_IsExit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="n"><span class="pre">status</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyStatus_IsExit" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">结果是否退出？</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.Py_ExitStatusException">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Py_ExitStatusException</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="n"><span class="pre">status</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.Py_ExitStatusException" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果 <em>status</em> 是一个退出码则调用 <code class="docutils literal notranslate"><span class="pre">exit(exitcode)</span></code>。如果 <em>status</em> 是一个错误码则打印错误消息并设置一个非零退出码再退出。 必须在 <code class="docutils literal notranslate"><span class="pre">PyStatus_Exception(status)</span></code> 为非零值时才能被调用。</p>
</dd></dl>

</dd></dl>

<div class="admonition note">
<p class="admonition-title">备注</p>
<p class="translated">在内部，Python 将使用设置 <code class="docutils literal notranslate"><span class="pre">PyStatus.func</span></code> 的宏，而创建状态的函数则会将 <code class="docutils literal notranslate"><span class="pre">func</span></code> 设为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>。</p>
</div>
<p class="translated">示例:</p>
<div class="translated highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">PyStatus</span><span class="w"> </span><span class="nf">alloc</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">**</span><span class="n">ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="o">*</span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PyMem_RawMalloc</span><span class="p">(</span><span class="n">size</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ptr</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">PyStatus_NoMemory</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">PyStatus_Ok</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="p">;</span>
<span class="w">    </span><span class="n">PyStatus</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">alloc</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ptr</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_Exception</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Py_ExitStatusException</span><span class="p">(</span><span class="n">status</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">PyMem_Free</span><span class="p">(</span><span class="n">ptr</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="pypreconfig">
<h3 class="translated">PyPreConfig<a class="headerlink" href="#pypreconfig" title="Link to this heading">¶</a></h3>
<dl class="c type">
<dt class="sig sig-object c" id="c.PyPreConfig">
<span class="k"><span class="pre">type</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyPreConfig</span></span></span><a class="headerlink" href="#c.PyPreConfig" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">用于预初始化 Python 的结构体。</p>
<p class="translated">用于初始化预先配置的函数:</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.PyPreConfig_InitPythonConfig">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyPreConfig_InitPythonConfig</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyPreConfig" title="PyPreConfig"><span class="n"><span class="pre">PyPreConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">preconfig</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyPreConfig_InitPythonConfig" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">通过 <a class="reference internal" href="#init-python-config"><span class="std std-ref">Python 配置</span></a> 来初始化预先配置。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyPreConfig_InitIsolatedConfig">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyPreConfig_InitIsolatedConfig</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyPreConfig" title="PyPreConfig"><span class="n"><span class="pre">PyPreConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">preconfig</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyPreConfig_InitIsolatedConfig" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">通过 <a class="reference internal" href="#init-isolated-conf"><span class="std std-ref">隔离配置</span></a> 来初始化预先配置。</p>
</dd></dl>

<p class="translated">结构体字段:</p>
<dl class="c member">
<dt class="sig sig-object c" id="c.PyPreConfig.allocator">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">allocator</span></span></span><a class="headerlink" href="#c.PyPreConfig.allocator" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">Python 内存分配器名称:</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_NOT_SET</span></code> (<code class="docutils literal notranslate"><span class="pre">0</span></code>): 不改变内存分配器 (使用默认)。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_DEFAULT</span></code> (<code class="docutils literal notranslate"><span class="pre">1</span></code>): <a class="reference internal" href="memory.html#default-memory-allocators"><span class="std std-ref">默认内存分配器</span></a>。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_DEBUG</span></code> (<code class="docutils literal notranslate"><span class="pre">2</span></code>): <a class="reference internal" href="memory.html#default-memory-allocators"><span class="std std-ref">默认内存分配器</span></a> 附带 <a class="reference internal" href="memory.html#pymem-debug-hooks"><span class="std std-ref">调试钩子</span></a>。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_MALLOC</span></code> (<code class="docutils literal notranslate"><span class="pre">3</span></code>): 使用 C 库的 <code class="docutils literal notranslate"><span class="pre">malloc()</span></code>。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_MALLOC_DEBUG</span></code> (<code class="docutils literal notranslate"><span class="pre">4</span></code>): 强制使用 <code class="docutils literal notranslate"><span class="pre">malloc()</span></code> 附带 <a class="reference internal" href="memory.html#pymem-debug-hooks"><span class="std std-ref">调试钩子</span></a>。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_PYMALLOC</span></code> (<code class="docutils literal notranslate"><span class="pre">5</span></code>): <a class="reference internal" href="memory.html#pymalloc"><span class="std std-ref">Python pymalloc 内存分配器</span></a>。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_PYMALLOC_DEBUG</span></code> (<code class="docutils literal notranslate"><span class="pre">6</span></code>): <a class="reference internal" href="memory.html#pymalloc"><span class="std std-ref">Python pymalloc 内存分配器</span></a> 附带 <a class="reference internal" href="memory.html#pymem-debug-hooks"><span class="std std-ref">调试钩子</span></a>。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_MIMALLOC</span></code> (<code class="docutils literal notranslate"><span class="pre">6</span></code>): 使用 <code class="docutils literal notranslate"><span class="pre">mimalloc</span></code>，一个快速的 malloc 替代。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_MIMALLOC_DEBUG</span></code> (<code class="docutils literal notranslate"><span class="pre">7</span></code>): 使用 <code class="docutils literal notranslate"><span class="pre">mimalloc</span></code>，一个快速的 malloc 替代，它带有 <a class="reference internal" href="memory.html#pymem-debug-hooks"><span class="std std-ref">调试钩子</span></a>。</p></li>
</ul>
<p class="translated">如果 Python 是 <a class="reference internal" href="../using/configure.html#cmdoption-without-pymalloc"><code class="xref std std-option docutils literal notranslate"><span class="pre">使用</span> <span class="pre">--without-pymalloc</span> <span class="pre">进行配置</span></code></a> 则 <code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_PYMALLOC</span></code> 和 <code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_PYMALLOC_DEBUG</span></code> 将不被支持。</p>
<p class="translated">如果 Python 是 <a class="reference internal" href="../using/configure.html#cmdoption-without-mimalloc"><code class="xref std std-option docutils literal notranslate"><span class="pre">使用</span> <span class="pre">--without-mimalloc</span> <span class="pre">进行配置</span></code></a> 或者如果下层的原子化支持不可用则 <code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_MIMALLOC</span></code> 和 <code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_MIMALLOC_DEBUG</span></code> 将不被支持。</p>
<p class="translated">参见 <a class="reference internal" href="memory.html#memory"><span class="std std-ref">Memory Management</span></a>.</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_NOT_SET</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyPreConfig.configure_locale">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">configure_locale</span></span></span><a class="headerlink" href="#c.PyPreConfig.configure_locale" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">将 LC_CTYPE 语言区域设为用户选择的语言区域。</p>
<p class="translated">如果等于 <code class="docutils literal notranslate"><span class="pre">0</span></code>，则将 <a class="reference internal" href="#c.PyPreConfig.coerce_c_locale" title="PyPreConfig.coerce_c_locale"><code class="xref c c-member docutils literal notranslate"><span class="pre">coerce_c_locale</span></code></a> 和 <a class="reference internal" href="#c.PyPreConfig.coerce_c_locale_warn" title="PyPreConfig.coerce_c_locale_warn"><code class="xref c c-member docutils literal notranslate"><span class="pre">coerce_c_locale_warn</span></code></a> 的成员设为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p class="translated">参见 <a class="reference internal" href="../glossary.html#term-locale-encoding"><span class="xref std std-term">locale encoding</span></a>。</p>
<p class="translated">默认值: 在 Python 配置中为 <code class="docutils literal notranslate"><span class="pre">1</span></code>，在隔离配置中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyPreConfig.coerce_c_locale">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">coerce_c_locale</span></span></span><a class="headerlink" href="#c.PyPreConfig.coerce_c_locale" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果等于 <code class="docutils literal notranslate"><span class="pre">2</span></code>，强制转换 C 语言区域。</p>
<p class="translated">如果等于 <code class="docutils literal notranslate"><span class="pre">1</span></code>，则读取 LC_CTYPE 语言区域来确定其是否应当被强制转换。</p>
<p class="translated">参见 <a class="reference internal" href="../glossary.html#term-locale-encoding"><span class="xref std std-term">locale encoding</span></a>。</p>
<p class="translated">默认值: 在 Python 配置中为 <code class="docutils literal notranslate"><span class="pre">-1</span></code>，在隔离配置中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyPreConfig.coerce_c_locale_warn">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">coerce_c_locale_warn</span></span></span><a class="headerlink" href="#c.PyPreConfig.coerce_c_locale_warn" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，则会在 C 语言区域被强制转换时发出警告。</p>
<p class="translated">默认值: 在 Python 配置中为 <code class="docutils literal notranslate"><span class="pre">-1</span></code>，在隔离配置中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyPreConfig.dev_mode">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dev_mode</span></span></span><a class="headerlink" href="#c.PyPreConfig.dev_mode" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated"><a class="reference internal" href="../library/devmode.html#devmode"><span class="std std-ref">Python 开发模式</span></a>: 参见 <a class="reference internal" href="#c.PyConfig.dev_mode" title="PyConfig.dev_mode"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.dev_mode</span></code></a>。</p>
<p class="translated">默认值: 在 Python 模式中为 <code class="docutils literal notranslate"><span class="pre">-1</span></code>，在隔离模式中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyPreConfig.isolated">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">isolated</span></span></span><a class="headerlink" href="#c.PyPreConfig.isolated" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">隔离模式：参见 <a class="reference internal" href="#c.PyConfig.isolated" title="PyConfig.isolated"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.isolated</span></code></a>。</p>
<p class="translated">默认值: 在 Python 模式中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>，在隔离模式中为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyPreConfig.legacy_windows_fs_encoding">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">legacy_windows_fs_encoding</span></span></span><a class="headerlink" href="#c.PyPreConfig.legacy_windows_fs_encoding" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值:</p>
<ul class="simple">
<li><p class="translated">设置 <a class="reference internal" href="#c.PyPreConfig.utf8_mode" title="PyPreConfig.utf8_mode"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyPreConfig.utf8_mode</span></code></a> 为 <code class="docutils literal notranslate"><span class="pre">0</span></code>,</p></li>
<li><p class="translated">设置 <a class="reference internal" href="#c.PyConfig.filesystem_encoding" title="PyConfig.filesystem_encoding"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.filesystem_encoding</span></code></a> 为 <code class="docutils literal notranslate"><span class="pre">&quot;mbcs&quot;</span></code>,</p></li>
<li><p class="translated">设置 <a class="reference internal" href="#c.PyConfig.filesystem_errors" title="PyConfig.filesystem_errors"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.filesystem_errors</span></code></a> 为 <code class="docutils literal notranslate"><span class="pre">&quot;replace&quot;</span></code>.</p></li>
</ul>
<p class="translated">基于 <span class="target" id="index-91"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONLEGACYWINDOWSFSENCODING"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONLEGACYWINDOWSFSENCODING</span></code></a> 环境变量值完成初始化。</p>
<p class="translated">仅在 Windows 上可用。 <code class="docutils literal notranslate"><span class="pre">#ifdef</span> <span class="pre">MS_WINDOWS</span></code> 宏可被用于 Windows 专属的代码。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyPreConfig.parse_argv">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">parse_argv</span></span></span><a class="headerlink" href="#c.PyPreConfig.parse_argv" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，<a class="reference internal" href="#c.Py_PreInitializeFromArgs" title="Py_PreInitializeFromArgs"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_PreInitializeFromArgs()</span></code></a> 和 <a class="reference internal" href="#c.Py_PreInitializeFromBytesArgs" title="Py_PreInitializeFromBytesArgs"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_PreInitializeFromBytesArgs()</span></code></a> 将以与常规 Python 解析命令行参数的相同方式解析其 <code class="docutils literal notranslate"><span class="pre">argv</span></code> 参数：参见 <a class="reference internal" href="../using/cmdline.html#using-on-cmdline"><span class="std std-ref">命令行参数</span></a>。</p>
<p class="translated">默认值: 在 Python 配置中为 <code class="docutils literal notranslate"><span class="pre">1</span></code>，在隔离配置中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyPreConfig.use_environment">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_environment</span></span></span><a class="headerlink" href="#c.PyPreConfig.use_environment" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">使用 <a class="reference internal" href="../using/cmdline.html#using-on-envvars"><span class="std std-ref">环境变量</span></a>? 参见 <a class="reference internal" href="#c.PyConfig.use_environment" title="PyConfig.use_environment"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.use_environment</span></code></a>。</p>
<p class="translated">默认值: 在 Python 配置中为 <code class="docutils literal notranslate"><span class="pre">1</span></code> 而在隔离配置中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyPreConfig.utf8_mode">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">utf8_mode</span></span></span><a class="headerlink" href="#c.PyPreConfig.utf8_mode" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，则启用 <a class="reference internal" href="../library/os.html#utf8-mode"><span class="std std-ref">Python UTF-8 模式</span></a>。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">utf8</span></code></a> 命令行选项和 <span class="target" id="index-92"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONUTF8"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONUTF8</span></code></a> 环境变量设为 <code class="docutils literal notranslate"><span class="pre">0</span></code> 或 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">如果 <code class="docutils literal notranslate"><span class="pre">LC_CTYPE</span></code> 语言区域为 <code class="docutils literal notranslate"><span class="pre">C</span></code> 或 <code class="docutils literal notranslate"><span class="pre">POSIX</span></code> 也会被设为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">默认值: 在 Python 配置中为 <code class="docutils literal notranslate"><span class="pre">-1</span></code> 而在隔离配置中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

</dd></dl>

</section>
<section id="preinitialize-python-with-pypreconfig">
<span id="c-preinit"></span><h3 class="translated">使用 PyPreConfig 预初始化 Python<a class="headerlink" href="#preinitialize-python-with-pypreconfig" title="Link to this heading">¶</a></h3>
<p class="translated">Python 的预初始化:</p>
<ul class="simple">
<li><p class="translated">设置 Python 内存分配器 (<a class="reference internal" href="#c.PyPreConfig.allocator" title="PyPreConfig.allocator"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyPreConfig.allocator</span></code></a>)</p></li>
<li><p class="translated">配置 LC_CTYPE 语言区域 (<a class="reference internal" href="../glossary.html#term-locale-encoding"><span class="xref std std-term">locale encoding</span></a>)</p></li>
<li><p class="translated">设置 <a class="reference internal" href="../library/os.html#utf8-mode"><span class="std std-ref">Python UTF-8 模式</span></a> (<a class="reference internal" href="#c.PyPreConfig.utf8_mode" title="PyPreConfig.utf8_mode"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyPreConfig.utf8_mode</span></code></a>)</p></li>
</ul>
<p class="translated">当前的预配置 (<code class="docutils literal notranslate"><span class="pre">PyPreConfig</span></code> 类型) 保存在 <code class="docutils literal notranslate"><span class="pre">_PyRuntime.preconfig</span></code> 中。</p>
<p class="translated">用于预初始化 Python 的函数：</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.Py_PreInitialize">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Py_PreInitialize</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#c.PyPreConfig" title="PyPreConfig"><span class="n"><span class="pre">PyPreConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">preconfig</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.Py_PreInitialize" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">根据 <em>preconfig</em> 预配置来预初始化 Python。</p>
<p class="translated"><em>preconfig</em> 不可为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.Py_PreInitializeFromBytesArgs">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Py_PreInitializeFromBytesArgs</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#c.PyPreConfig" title="PyPreConfig"><span class="n"><span class="pre">PyPreConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">preconfig</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">argc</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">argv</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.Py_PreInitializeFromBytesArgs" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">根据 <em>preconfig</em> 预配置来预初始化 Python。</p>
<p class="translated">如果 <em>preconfig</em> 的 <a class="reference internal" href="#c.PyPreConfig.parse_argv" title="PyPreConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">parse_argv</span></code></a> 为非零值则解析 <em>argv</em> 命令行参数（字节串）。</p>
<p class="translated"><em>preconfig</em> 不可为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.Py_PreInitializeFromArgs">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Py_PreInitializeFromArgs</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#c.PyPreConfig" title="PyPreConfig"><span class="n"><span class="pre">PyPreConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">preconfig</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">argc</span></span>, <span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">argv</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.Py_PreInitializeFromArgs" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">根据 <em>preconfig</em> 预配置来预初始化 Python。</p>
<p class="translated">如果 <em>preconfig</em> 的 <a class="reference internal" href="#c.PyPreConfig.parse_argv" title="PyPreConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">parse_argv</span></code></a> 为非零值则解析 <em>argv</em> 命令行参数（宽字符串）。</p>
<p class="translated"><em>preconfig</em> 不可为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>。</p>
</dd></dl>

<p class="translated">调用方要负责使用 <a class="reference internal" href="#c.PyStatus_Exception" title="PyStatus_Exception"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyStatus_Exception()</span></code></a> 和 <a class="reference internal" href="#c.Py_ExitStatusException" title="Py_ExitStatusException"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_ExitStatusException()</span></code></a> 来处理异常（错误或退出）。</p>
<p class="translated">对于 <a class="reference internal" href="#init-python-config"><span class="std std-ref">Python 配置</span></a> (<a class="reference internal" href="#c.PyPreConfig_InitPythonConfig" title="PyPreConfig_InitPythonConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyPreConfig_InitPythonConfig()</span></code></a>)，如果 Python 是用命令行参数初始化的，那么在预初始化 Python 时也必须传递命令行参数，因为它们会对编码格式等预配置产生影响。 例如，<a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">utf8</span></code></a> 命令行选项将启用 <a class="reference internal" href="../library/os.html#utf8-mode"><span class="std std-ref">Python UTF-8 模式</span></a>。</p>
<p class="translated"><code class="docutils literal notranslate"><span class="pre">PyMem_SetAllocator()</span></code> 可在 <a class="reference internal" href="#c.Py_PreInitialize" title="Py_PreInitialize"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_PreInitialize()</span></code></a> 之后、<a class="reference internal" href="init.html#c.Py_InitializeFromConfig" title="Py_InitializeFromConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_InitializeFromConfig()</span></code></a> 之前被调用以安装自定义的内存分配器。 如果 <a class="reference internal" href="#c.PyPreConfig.allocator" title="PyPreConfig.allocator"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyPreConfig.allocator</span></code></a> 被设为 <code class="docutils literal notranslate"><span class="pre">PYMEM_ALLOCATOR_NOT_SET</span></code> 则可在 <a class="reference internal" href="#c.Py_PreInitialize" title="Py_PreInitialize"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_PreInitialize()</span></code></a> 之前被调用。</p>
<p class="translated">像 <a class="reference internal" href="memory.html#c.PyMem_RawMalloc" title="PyMem_RawMalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyMem_RawMalloc()</span></code></a> 这样的 Python 内存分配函数不能在 Python 预初始化之前使用，而直接调用 <code class="docutils literal notranslate"><span class="pre">malloc()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">free()</span></code> 则始终会是安全的。 <a class="reference internal" href="sys.html#c.Py_DecodeLocale" title="Py_DecodeLocale"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_DecodeLocale()</span></code></a> 不能在 Python 预初始化之前被调用。</p>
<p class="translated">使用预初始化来启用 <a class="reference internal" href="../library/os.html#utf8-mode"><span class="std std-ref">Python UTF-8 模式</span></a> 的例子:</p>
<div class="translated highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">PyStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="n">PyPreConfig</span><span class="w"> </span><span class="n">preconfig</span><span class="p">;</span>
<span class="n">PyPreConfig_InitPythonConfig</span><span class="p">(</span><span class="o">&amp;</span><span class="n">preconfig</span><span class="p">);</span>

<span class="n">preconfig</span><span class="p">.</span><span class="n">utf8_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Py_PreInitialize</span><span class="p">(</span><span class="o">&amp;</span><span class="n">preconfig</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_Exception</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Py_ExitStatusException</span><span class="p">(</span><span class="n">status</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* 此时，Python 将使用 UTF-8 */</span>

<span class="n">Py_Initialize</span><span class="p">();</span>
<span class="cm">/* ... 在此使用 Python API ... */</span>
<span class="n">Py_Finalize</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="pyconfig">
<h3 class="translated">PyConfig<a class="headerlink" href="#pyconfig" title="Link to this heading">¶</a></h3>
<dl class="c type">
<dt class="sig sig-object c" id="c.PyConfig">
<span class="k"><span class="pre">type</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig</span></span></span><a class="headerlink" href="#c.PyConfig" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">包含了大部分用于配置 Python 的形参的结构体。</p>
<p class="translated">在完成后，必须使用 <a class="reference internal" href="#c.PyConfig_Clear" title="PyConfig_Clear"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Clear()</span></code></a> 函数来释放配置内存。</p>
<p class="translated">结构体方法:</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_InitPythonConfig">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_InitPythonConfig</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyConfig" title="PyConfig"><span class="n"><span class="pre">PyConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_InitPythonConfig" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">通过 <a class="reference internal" href="#init-python-config"><span class="std std-ref">Python 配置</span></a> 来初始化配置。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_InitIsolatedConfig">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_InitIsolatedConfig</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyConfig" title="PyConfig"><span class="n"><span class="pre">PyConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_InitIsolatedConfig" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">通过 <a class="reference internal" href="#init-isolated-conf"><span class="std std-ref">隔离配置</span></a> 来初始化配置。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_SetString">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_SetString</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyConfig" title="PyConfig"><span class="n"><span class="pre">PyConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config_str</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_SetString" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">将宽字符串 <em>str</em> 拷贝至 <code class="docutils literal notranslate"><span class="pre">*config_str</span></code>。</p>
<p class="translated">在必要时 <a class="reference internal" href="#c-preinit"><span class="std std-ref">预初始化 Python</span></a>。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_SetBytesString">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_SetBytesString</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyConfig" title="PyConfig"><span class="n"><span class="pre">PyConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config_str</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_SetBytesString" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">使用 <a class="reference internal" href="sys.html#c.Py_DecodeLocale" title="Py_DecodeLocale"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_DecodeLocale()</span></code></a> 对 <em>str</em> 进行解码并将结果设置到 <code class="docutils literal notranslate"><span class="pre">*config_str</span></code>。</p>
<p class="translated">在必要时 <a class="reference internal" href="#c-preinit"><span class="std std-ref">预初始化 Python</span></a>。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_SetArgv">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_SetArgv</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyConfig" title="PyConfig"><span class="n"><span class="pre">PyConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">argc</span></span>, <span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">argv</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_SetArgv" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">根据宽字符串列表 <em>argv</em> 设置命令行参数 (<em>config</em> 的 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 成员)。</p>
<p class="translated">在必要时 <a class="reference internal" href="#c-preinit"><span class="std std-ref">预初始化 Python</span></a>。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_SetBytesArgv">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_SetBytesArgv</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyConfig" title="PyConfig"><span class="n"><span class="pre">PyConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">argc</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">argv</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_SetBytesArgv" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">根据字节串列表 <em>argv</em> 设置命令行参数 (<em>config</em> 的 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 成员)。 使用 <a class="reference internal" href="sys.html#c.Py_DecodeLocale" title="Py_DecodeLocale"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_DecodeLocale()</span></code></a> 对字节串进行解码。</p>
<p class="translated">在必要时 <a class="reference internal" href="#c-preinit"><span class="std std-ref">预初始化 Python</span></a>。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_SetWideStringList">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_SetWideStringList</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyConfig" title="PyConfig"><span class="n"><span class="pre">PyConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span>, <a class="reference internal" href="#c.PyWideStringList" title="PyWideStringList"><span class="n"><span class="pre">PyWideStringList</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">list</span></span>, <a class="reference internal" href="intro.html#c.Py_ssize_t" title="Py_ssize_t"><span class="n"><span class="pre">Py_ssize_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">length</span></span>, <span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">items</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_SetWideStringList" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">将宽字符串列表 <em>list</em> 设置为 <em>length</em> 和 <em>items</em>。</p>
<p class="translated">在必要时 <a class="reference internal" href="#c-preinit"><span class="std std-ref">预初始化 Python</span></a>。</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_Read">
<a class="reference internal" href="#c.PyStatus" title="PyStatus"><span class="n"><span class="pre">PyStatus</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_Read</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyConfig" title="PyConfig"><span class="n"><span class="pre">PyConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_Read" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">读取所有 Python 配置。</p>
<p class="translated">已经初始化的字段会保持不变。</p>
<p class="translated">调用此函数时不再计算或修改用于 <a class="reference internal" href="#init-path-config"><span class="std std-ref">路径配置</span></a> 的字段，如 Python 3.11 那样。</p>
<p class="translated"><a class="reference internal" href="#c.PyConfig_Read" title="PyConfig_Read"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Read()</span></code></a> 函数对 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.argv</span></code></a> 参数只会解析一次：在参数解析完成后 <a class="reference internal" href="#c.PyConfig.parse_argv" title="PyConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.parse_argv</span></code></a> 将被设为 <code class="docutils literal notranslate"><span class="pre">2</span></code>。 由于 Python 参数是从 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.argv</span></code></a> 提取的，因此解析参数两次会将应用程序选项解析为 Python 选项。</p>
<p class="translated">在必要时 <a class="reference internal" href="#c-preinit"><span class="std std-ref">预初始化 Python</span></a>。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.10 版本发生变更: </span><a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.argv</span></code></a> 参数现在只会被解析一次，在参数解析完成后，<a class="reference internal" href="#c.PyConfig.parse_argv" title="PyConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.parse_argv</span></code></a> 将被设为 <code class="docutils literal notranslate"><span class="pre">2</span></code>，只有当 <a class="reference internal" href="#c.PyConfig.parse_argv" title="PyConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.parse_argv</span></code></a> 等于 <code class="docutils literal notranslate"><span class="pre">1</span></code> 时才会解析参数。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.11 版本发生变更: </span><a class="reference internal" href="#c.PyConfig_Read" title="PyConfig_Read"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Read()</span></code></a> 不会再计算所有路径，因此在 <a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 下列出的字段可能不会再更新直到 <a class="reference internal" href="init.html#c.Py_InitializeFromConfig" title="Py_InitializeFromConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_InitializeFromConfig()</span></code></a> 被调用。</p>
</div>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyConfig_Clear">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyConfig_Clear</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.PyConfig" title="PyConfig"><span class="n"><span class="pre">PyConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyConfig_Clear" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">释放配置内存</p>
</dd></dl>

<p class="translated">如有必要大多数 <code class="docutils literal notranslate"><span class="pre">PyConfig</span></code> 方法将会 <a class="reference internal" href="#c-preinit"><span class="std std-ref">预初始化 Python</span></a>。 在这种情况下，Python 预初始化配置 (<a class="reference internal" href="#c.PyPreConfig" title="PyPreConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyPreConfig</span></code></a>) 将以 <a class="reference internal" href="#c.PyConfig" title="PyConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyConfig</span></code></a> 为基础。 如果要调整与 <a class="reference internal" href="#c.PyPreConfig" title="PyPreConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyPreConfig</span></code></a> 相同的配置字段，它们必须在调用 <a class="reference internal" href="#c.PyConfig" title="PyConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyConfig</span></code></a> 方法之前被设置：</p>
<ul class="simple">
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.dev_mode" title="PyConfig.dev_mode"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.dev_mode</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.isolated" title="PyConfig.isolated"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.isolated</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.parse_argv" title="PyConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.parse_argv</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.use_environment" title="PyConfig.use_environment"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.use_environment</span></code></a></p></li>
</ul>
<p class="translated">此外，如果使用了 <a class="reference internal" href="#c.PyConfig_SetArgv" title="PyConfig_SetArgv"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_SetArgv()</span></code></a> 或 <a class="reference internal" href="#c.PyConfig_SetBytesArgv" title="PyConfig_SetBytesArgv"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_SetBytesArgv()</span></code></a>，则必须在调用其他方法之前调用该方法，因为预初始化配置取决于命令行参数（如果 <a class="reference internal" href="#c.PyConfig.parse_argv" title="PyConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">parse_argv</span></code></a> 为非零值）。</p>
<p class="translated">这些方法的调用者要负责使用 <code class="docutils literal notranslate"><span class="pre">PyStatus_Exception()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Py_ExitStatusException()</span></code> 来处理异常（错误或退出）。</p>
<p class="translated">结构体字段:</p>
<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.argv">
<a class="reference internal" href="#c.PyWideStringList" title="PyWideStringList"><span class="n"><span class="pre">PyWideStringList</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">argv</span></span></span><a class="headerlink" href="#c.PyConfig.argv" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated" id="index-4">根据 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 设置 <a class="reference internal" href="../library/sys.html#sys.argv" title="sys.argv"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.argv</span></code></a> 命令行参数。 这些形参与传给程序的 <code class="xref c c-func docutils literal notranslate"><span class="pre">main()</span></code> 函数的类似，区别在于其中第一项应当指向要执行的脚本文件而不是 Python 解释器对应的可执行文件。 如果没有要运行的脚本，而 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 中的第一项可以为空字符串。</p>
<p class="translated">将 <a class="reference internal" href="#c.PyConfig.parse_argv" title="PyConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">parse_argv</span></code></a> 设为 <code class="docutils literal notranslate"><span class="pre">1</span></code> 将以与普通 Python 解析 Python 命令行参数相同的方式解析 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 再从 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 中剥离 Python 参数。</p>
<p class="translated">如果 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 为空，则会添加一个空字符串以确保 <a class="reference internal" href="../library/sys.html#sys.argv" title="sys.argv"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.argv</span></code></a> 始终存在并且永远不为空。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p class="translated">另请参阅 <a class="reference internal" href="#c.PyConfig.orig_argv" title="PyConfig.orig_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">orig_argv</span></code></a> 成员。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.safe_path">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">safe_path</span></span></span><a class="headerlink" href="#c.PyConfig.safe_path" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果等于零，<code class="docutils literal notranslate"><span class="pre">Py_RunMain()</span></code> 会在启动时向 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> 开头添加一个可能不安全的路径:</p>
<ul class="simple">
<li><p class="translated">如果 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv[0]</span></code></a> 等于 <code class="docutils literal notranslate"><span class="pre">L&quot;-m&quot;</span></code> (<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">module</span></code>)，则添加当前工作目录。</p></li>
<li><p class="translated">如果是运行脚本 (<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">script.py</span></code>)，则添加脚本的目录。 如果是符号链接，则会解析符号链接。</p></li>
<li><p class="translated">在其他情况下 (<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-c</span> <span class="pre">code</span></code> 和 <code class="docutils literal notranslate"><span class="pre">python</span></code>)，将添加一个空字符串，这表示当前工作目录。</p></li>
</ul>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-P"><code class="xref std std-option docutils literal notranslate"><span class="pre">-P</span></code></a> 命令行选项和 <span class="target" id="index-93"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONSAFEPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONSAFEPATH</span></code></a> 环境变量设置为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">默认值：Python 配置中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>，隔离配置中为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.11.</span></p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.base_exec_prefix">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">base_exec_prefix</span></span></span><a class="headerlink" href="#c.PyConfig.base_exec_prefix" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated"><a class="reference internal" href="../library/sys.html#sys.base_exec_prefix" title="sys.base_exec_prefix"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.base_exec_prefix</span></code></a>.</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 的一部分。</p>
<p class="translated">另请参阅 <a class="reference internal" href="#c.PyConfig.exec_prefix" title="PyConfig.exec_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.exec_prefix</span></code></a>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.base_executable">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">base_executable</span></span></span><a class="headerlink" href="#c.PyConfig.base_executable" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">Python 基础可执行文件: <code class="xref py py-data docutils literal notranslate"><span class="pre">sys._base_executable</span></code>。</p>
<p class="translated">由 <span class="target" id="index-94"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">__PYVENV_LAUNCHER__</span></code> 环境变量设置。</p>
<p class="translated">如为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code> 则从 <a class="reference internal" href="#c.PyConfig.executable" title="PyConfig.executable"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.executable</span></code></a> 设置。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 的一部分。</p>
<p class="translated">另请参阅 <a class="reference internal" href="#c.PyConfig.executable" title="PyConfig.executable"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.executable</span></code></a>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.base_prefix">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">base_prefix</span></span></span><a class="headerlink" href="#c.PyConfig.base_prefix" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated"><a class="reference internal" href="../library/sys.html#sys.base_prefix" title="sys.base_prefix"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.base_prefix</span></code></a>.</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 的一部分。</p>
<p class="translated">另请参阅 <a class="reference internal" href="#c.PyConfig.prefix" title="PyConfig.prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.prefix</span></code></a>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.buffered_stdio">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buffered_stdio</span></span></span><a class="headerlink" href="#c.PyConfig.buffered_stdio" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果等于 <code class="docutils literal notranslate"><span class="pre">0</span></code> 且 <a class="reference internal" href="#c.PyConfig.configure_c_stdio" title="PyConfig.configure_c_stdio"><code class="xref c c-member docutils literal notranslate"><span class="pre">configure_c_stdio</span></code></a> 为非零值，则禁用 C 数据流 stdout 和 stderr 的缓冲。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-u"><code class="xref std std-option docutils literal notranslate"><span class="pre">-u</span></code></a> 命令行选项和 <span class="target" id="index-95"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONUNBUFFERED"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONUNBUFFERED</span></code></a> 环境变量设置为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p class="translated">stdin 始终以缓冲模式打开。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.bytes_warning">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bytes_warning</span></span></span><a class="headerlink" href="#c.PyConfig.bytes_warning" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果等于 <code class="docutils literal notranslate"><span class="pre">1</span></code>，则在将 <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> 或 <a class="reference internal" href="../library/stdtypes.html#bytearray" title="bytearray"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a> 与 <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> 进行比较，或将 <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> 与 <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> 进行比较时发出警告。</p>
<p class="translated">如果大于等于 <code class="docutils literal notranslate"><span class="pre">2</span></code>，则在这些情况下引发 <a class="reference internal" href="../library/exceptions.html#BytesWarning" title="BytesWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BytesWarning</span></code></a> 异常。</p>
<p class="translated">由 <a class="reference internal" href="../using/cmdline.html#cmdoption-b"><code class="xref std std-option docutils literal notranslate"><span class="pre">-b</span></code></a> 命令行选项执行递增。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.warn_default_encoding">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">warn_default_encoding</span></span></span><a class="headerlink" href="#c.PyConfig.warn_default_encoding" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，则在 <a class="reference internal" href="../library/io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOWrapper</span></code></a> 使用默认编码格式时发出 <a class="reference internal" href="../library/exceptions.html#EncodingWarning" title="EncodingWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">EncodingWarning</span></code></a> 警告。 详情请参阅 <a class="reference internal" href="../library/io.html#io-encoding-warning"><span class="std std-ref">选择性的 EncodingWarning</span></a>。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.10.</span></p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.code_debug_ranges">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">code_debug_ranges</span></span></span><a class="headerlink" href="#c.PyConfig.code_debug_ranges" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果等于 <code class="docutils literal notranslate"><span class="pre">0</span></code>，则禁用在代码对象中包括末尾行和列映射。 并且禁用在特定错误位置打印回溯标记。</p>
<p class="translated">通过 <span class="target" id="index-96"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONNODEBUGRANGES"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONNODEBUGRANGES</span></code></a> 环境变量和 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">no_debug_ranges</span></code></a> 命令行选项设置为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.11.</span></p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.check_hash_pycs_mode">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">check_hash_pycs_mode</span></span></span><a class="headerlink" href="#c.PyConfig.check_hash_pycs_mode" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">控制基于哈希值的 <code class="docutils literal notranslate"><span class="pre">.pyc</span></code> 文件的验证行为: <a class="reference internal" href="../using/cmdline.html#cmdoption-check-hash-based-pycs"><code class="xref std std-option docutils literal notranslate"><span class="pre">--check-hash-based-pycs</span></code></a> 命令行选项的值。</p>
<p class="translated">有效的值：</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">L&quot;always&quot;</span></code>: 无论 'check_source' 旗标的值是什么都会对源文件进行哈希验证。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">L&quot;never&quot;</span></code>: 假定基于哈希值的 pyc 始终是有效的。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">L&quot;default&quot;</span></code>: 基于哈希值的 pyc 中的 'check_source' 旗标确定是否验证无效。</p></li>
</ul>
<p class="translated">默认值： <code class="docutils literal notranslate"><span class="pre">L&quot;default&quot;</span></code>。</p>
<p class="translated">参见 <span class="target" id="index-97"></span><a class="pep reference external" href="https://peps.python.org/pep-0552/"><strong>PEP 552</strong></a> &quot;Deterministic pycs&quot;。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.configure_c_stdio">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">configure_c_stdio</span></span></span><a class="headerlink" href="#c.PyConfig.configure_c_stdio" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，则配置 C 标准流:</p>
<ul class="simple">
<li><p class="translated">在 Windows 中，在 stdin, stdout 和 stderr 上设置二进制模式 (<code class="docutils literal notranslate"><span class="pre">O_BINARY</span></code>)。</p></li>
<li><p class="translated">如果 <a class="reference internal" href="#c.PyConfig.buffered_stdio" title="PyConfig.buffered_stdio"><code class="xref c c-member docutils literal notranslate"><span class="pre">buffered_stdio</span></code></a> 等于零，则禁用 stdin, stdout 和 stderr 流的缓冲。</p></li>
<li><p class="translated">如果 <a class="reference internal" href="#c.PyConfig.interactive" title="PyConfig.interactive"><code class="xref c c-member docutils literal notranslate"><span class="pre">interactive</span></code></a> 为非零值，则启用 stdin 和 stdout 上的流缓冲（Windows 中仅限 stdout）。</p></li>
</ul>
<p class="translated">默认值: 在 Python 配置中为 <code class="docutils literal notranslate"><span class="pre">1</span></code>，在隔离配置中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.dev_mode">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dev_mode</span></span></span><a class="headerlink" href="#c.PyConfig.dev_mode" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果为非零值，则启用 <a class="reference internal" href="../library/devmode.html#devmode"><span class="std std-ref">Python 开发模式</span></a>。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">dev</span></code></a> 选项和 <span class="target" id="index-98"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONDEVMODE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONDEVMODE</span></code></a> 环境变量设置为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">默认值: 在 Python 模式中为 <code class="docutils literal notranslate"><span class="pre">-1</span></code>，在隔离模式中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.dump_refs">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dump_refs</span></span></span><a class="headerlink" href="#c.PyConfig.dump_refs" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">转储 Python 引用？</p>
<p class="translated">如果为非零值，则转储所有在退出时仍存活的对象。</p>
<p class="translated">由 <span class="target" id="index-99"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONDUMPREFS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONDUMPREFS</span></code></a> 环境变量设置为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">需要定义了 <code class="docutils literal notranslate"><span class="pre">Py_TRACE_REFS</span></code> 宏的特殊 Python 编译版：参见 <a class="reference internal" href="../using/configure.html#cmdoption-with-trace-refs"><code class="xref std std-option docutils literal notranslate"><span class="pre">configure</span> <span class="pre">--with-trace-refs</span> <span class="pre">选项</span></code></a>。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.dump_refs_file">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">dump_refs_file</span></span></span><a class="headerlink" href="#c.PyConfig.dump_refs_file" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">转储 Python 引用的目标文件名。</p>
<p class="translated">由 <span class="target" id="index-100"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONDUMPREFSFILE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONDUMPREFSFILE</span></code></a> 环境变量设置。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.11.</span></p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.exec_prefix">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">exec_prefix</span></span></span><a class="headerlink" href="#c.PyConfig.exec_prefix" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">安装依赖于平台的 Python 文件的站点专属目录前缀: <a class="reference internal" href="../library/sys.html#sys.exec_prefix" title="sys.exec_prefix"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.exec_prefix</span></code></a>。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 的一部分。</p>
<p class="translated">另请参阅 <a class="reference internal" href="#c.PyConfig.base_exec_prefix" title="PyConfig.base_exec_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.base_exec_prefix</span></code></a>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.executable">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">executable</span></span></span><a class="headerlink" href="#c.PyConfig.executable" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">Python 解释器可执行二进制文件的绝对路径: <a class="reference internal" href="../library/sys.html#sys.executable" title="sys.executable"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.executable</span></code></a>。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 的一部分。</p>
<p class="translated">另请参阅 <a class="reference internal" href="#c.PyConfig.base_executable" title="PyConfig.base_executable"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.base_executable</span></code></a>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.faulthandler">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">faulthandler</span></span></span><a class="headerlink" href="#c.PyConfig.faulthandler" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">启用 faulthandler？</p>
<p class="translated">如果为非零值，则在启动时调用 <a class="reference internal" href="../library/faulthandler.html#faulthandler.enable" title="faulthandler.enable"><code class="xref py py-func docutils literal notranslate"><span class="pre">faulthandler.enable()</span></code></a>。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">faulthandler</span></code></a> 和 <span class="target" id="index-101"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONFAULTHANDLER"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONFAULTHANDLER</span></code></a> 环境变量设为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">默认值: 在 Python 模式中为 <code class="docutils literal notranslate"><span class="pre">-1</span></code>，在隔离模式中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.filesystem_encoding">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">filesystem_encoding</span></span></span><a class="headerlink" href="#c.PyConfig.filesystem_encoding" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated"><a class="reference internal" href="../glossary.html#term-filesystem-encoding-and-error-handler"><span class="xref std std-term">文件系统编码格式</span></a>: <a class="reference internal" href="../library/sys.html#sys.getfilesystemencoding" title="sys.getfilesystemencoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.getfilesystemencoding()</span></code></a>。</p>
<p class="translated">在 macOS, Android 和 VxWorks 上：默认使用 <code class="docutils literal notranslate"><span class="pre">&quot;utf-8&quot;</span></code>。</p>
<p class="translated">在 Windows 上：默认使用 <code class="docutils literal notranslate"><span class="pre">&quot;utf-8&quot;</span></code>，或者如果 <a class="reference internal" href="#c.PyPreConfig" title="PyPreConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyPreConfig</span></code></a> 的 <a class="reference internal" href="#c.PyPreConfig.legacy_windows_fs_encoding" title="PyPreConfig.legacy_windows_fs_encoding"><code class="xref c c-member docutils literal notranslate"><span class="pre">legacy_windows_fs_encoding</span></code></a> 为非零值则使用 <code class="docutils literal notranslate"><span class="pre">&quot;mbcs&quot;</span></code>。</p>
<p class="translated">在其他平台上的默认编码格式：</p>
<ul class="simple">
<li><p class="translated">如果 <a class="reference internal" href="#c.PyPreConfig.utf8_mode" title="PyPreConfig.utf8_mode"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyPreConfig.utf8_mode</span></code></a> 为非零值则使用 <code class="docutils literal notranslate"><span class="pre">&quot;utf-8&quot;</span></code>。</p></li>
<li><p class="translated">如果 Python 检测到 <code class="docutils literal notranslate"><span class="pre">nl_langinfo(CODESET)</span></code> 声明为 ASCII 编码格式，而 <code class="docutils literal notranslate"><span class="pre">mbstowcs()</span></code> 是从其他的编码格式解码（通常为 Latin1）则使用 <code class="docutils literal notranslate"><span class="pre">&quot;ascii&quot;</span></code>。</p></li>
<li><p class="translated">如果 <code class="docutils literal notranslate"><span class="pre">nl_langinfo(CODESET)</span></code> 返回空字符串则使用 <code class="docutils literal notranslate"><span class="pre">&quot;utf-8&quot;</span></code>。</p></li>
<li><p class="translated">在其他情况下，使用 <a class="reference internal" href="../glossary.html#term-locale-encoding"><span class="xref std std-term">locale encoding</span></a>: <code class="docutils literal notranslate"><span class="pre">nl_langinfo(CODESET)</span></code> 的结果。</p></li>
</ul>
<p class="translated">在 Python 启动时，编码格式名称会规范化为 Python 编解码器名称。 例如，<code class="docutils literal notranslate"><span class="pre">&quot;ANSI_X3.4-1968&quot;</span></code> 将被替换为 <code class="docutils literal notranslate"><span class="pre">&quot;ascii&quot;</span></code>。</p>
<p class="translated">参见 <a class="reference internal" href="#c.PyConfig.filesystem_errors" title="PyConfig.filesystem_errors"><code class="xref c c-member docutils literal notranslate"><span class="pre">filesystem_errors</span></code></a> 的成员。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.filesystem_errors">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">filesystem_errors</span></span></span><a class="headerlink" href="#c.PyConfig.filesystem_errors" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated"><a class="reference internal" href="../glossary.html#term-filesystem-encoding-and-error-handler"><span class="xref std std-term">文件系统错误处理器</span></a>: <a class="reference internal" href="../library/sys.html#sys.getfilesystemencodeerrors" title="sys.getfilesystemencodeerrors"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.getfilesystemencodeerrors()</span></code></a>。</p>
<p class="translated">在 Windows 上：默认使用 <code class="docutils literal notranslate"><span class="pre">&quot;surrogatepass&quot;</span></code>，或者如果 <a class="reference internal" href="#c.PyPreConfig" title="PyPreConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyPreConfig</span></code></a> 的  <a class="reference internal" href="#c.PyPreConfig.legacy_windows_fs_encoding" title="PyPreConfig.legacy_windows_fs_encoding"><code class="xref c c-member docutils literal notranslate"><span class="pre">legacy_windows_fs_encoding</span></code></a> 为非零值则使用 <code class="docutils literal notranslate"><span class="pre">&quot;replace&quot;</span></code>。</p>
<p class="translated">在其他平台上：默认使用 <code class="docutils literal notranslate"><span class="pre">&quot;surrogateescape&quot;</span></code>。</p>
<p class="translated">支持的错误处理器：</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;strict&quot;</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;surrogateescape&quot;</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">&quot;surrogatepass&quot;</span></code> (仅支持 UTF-8 编码格式)</p></li>
</ul>
<p class="translated">参见 <a class="reference internal" href="#c.PyConfig.filesystem_encoding" title="PyConfig.filesystem_encoding"><code class="xref c c-member docutils literal notranslate"><span class="pre">filesystem_encoding</span></code></a> 的成员。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.use_frozen_modules">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_frozen_modules</span></span></span><a class="headerlink" href="#c.PyConfig.use_frozen_modules" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，则使用冻结模块。</p>
<p class="translated">由 <span class="target" id="index-102"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHON_FROZEN_MODULES"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHON_FROZEN_MODULES</span></code></a> 环境变量设置。</p>
<p class="translated">默认值：在发布构建版中为 <code class="docutils literal notranslate"><span class="pre">1</span></code>，而在 <a class="reference internal" href="../using/configure.html#debug-build"><span class="std std-ref">调试构建版</span></a> 中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.hash_seed">
<span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hash_seed</span></span></span><a class="headerlink" href="#c.PyConfig.hash_seed" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.use_hash_seed">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_hash_seed</span></span></span><a class="headerlink" href="#c.PyConfig.use_hash_seed" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">随机化的哈希函数种子。</p>
<p class="translated">如果 <a class="reference internal" href="#c.PyConfig.use_hash_seed" title="PyConfig.use_hash_seed"><code class="xref c c-member docutils literal notranslate"><span class="pre">use_hash_seed</span></code></a> 为零，则在 Python 启动时随机选择一个种子，并忽略 <a class="reference internal" href="#c.PyConfig.hash_seed" title="PyConfig.hash_seed"><code class="xref c c-member docutils literal notranslate"><span class="pre">hash_seed</span></code></a>。</p>
<p class="translated">由 <span class="target" id="index-103"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONHASHSEED"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONHASHSEED</span></code></a> 环境变量设置。</p>
<p class="translated">默认的 <em>use_hash_seed</em> 值：在 Python 模式下为 <code class="docutils literal notranslate"><span class="pre">-1</span></code>，在隔离模式下为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.home">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">home</span></span></span><a class="headerlink" href="#c.PyConfig.home" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">设置默认的 Python &quot;home&quot; 目录，即标准 Python 库所在的位置 (参见 <span class="target" id="index-104"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONHOME"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONHOME</span></code></a>)。</p>
<p class="translated">由 <span class="target" id="index-105"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONHOME"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONHOME</span></code></a> 环境变量设置。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 输入的一部分。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.import_time">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">import_time</span></span></span><a class="headerlink" href="#c.PyConfig.import_time" title="Link to this definition">¶</a><br /></dt>
<dd><blockquote>
<div><p class="translated">如为 <code class="docutils literal notranslate"><span class="pre">1</span></code>，则会针对导入时间进行性能分析。 如为 <code class="docutils literal notranslate"><span class="pre">2</span></code>，则会包括提示当被导入模块已被加载的额外输出。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">importtime</span></code></a> 选项和 <span class="target" id="index-106"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONPROFILEIMPORTTIME"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPROFILEIMPORTTIME</span></code></a> 环境变量设置。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</div></blockquote>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.14 版本发生变更: </span>添加了对 <code class="docutils literal notranslate"><span class="pre">import_time</span> <span class="pre">=</span> <span class="pre">2</span></code> 的支持</p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.inspect">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">inspect</span></span></span><a class="headerlink" href="#c.PyConfig.inspect" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">在执行脚本或命令之后进入交互模式。</p>
<p class="translated">如果大于 <code class="docutils literal notranslate"><span class="pre">0</span></code> ，则启用检查：当脚本作为第一个参数传入或使用了 -c 选项时，在执行脚本或命令后进入交互模式，即使在 <a class="reference internal" href="../library/sys.html#sys.stdin" title="sys.stdin"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdin</span></code></a> 看来并非一个终端时也是如此。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-i"><code class="xref std std-option docutils literal notranslate"><span class="pre">-i</span></code></a> 命令行选项执行递增。 如果 <span class="target" id="index-107"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONINSPECT"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONINSPECT</span></code></a> 环境变量为非空值则设为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.install_signal_handlers">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">install_signal_handlers</span></span></span><a class="headerlink" href="#c.PyConfig.install_signal_handlers" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">安装 Python 信号处理器？</p>
<p class="translated">默认值：在 Python 模式下为 <code class="docutils literal notranslate"><span class="pre">1</span></code>，在隔离模式下为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.interactive">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">interactive</span></span></span><a class="headerlink" href="#c.PyConfig.interactive" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果大于 <code class="docutils literal notranslate"><span class="pre">0</span></code>，则启用交互模式（REPL）。</p>
<p class="translated">由 <a class="reference internal" href="../using/cmdline.html#cmdoption-i"><code class="xref std std-option docutils literal notranslate"><span class="pre">-i</span></code></a> 命令行选项执行递增。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.int_max_str_digits">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">int_max_str_digits</span></span></span><a class="headerlink" href="#c.PyConfig.int_max_str_digits" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">配置 <a class="reference internal" href="../library/stdtypes.html#int-max-str-digits"><span class="std std-ref">整数字符串转换长度限制</span></a>。 初始值为 <code class="docutils literal notranslate"><span class="pre">-1</span></code> 表示该值将从命令行或环境获取否则默认为 4300 (<a class="reference internal" href="../library/sys.html#sys.int_info.default_max_str_digits" title="sys.int_info.default_max_str_digits"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.int_info.default_max_str_digits</span></code></a>)。 值为 <code class="docutils literal notranslate"><span class="pre">0</span></code> 表示禁用限制。 大于 0 但小于 640 (<a class="reference internal" href="../library/sys.html#sys.int_info.str_digits_check_threshold" title="sys.int_info.str_digits_check_threshold"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.int_info.str_digits_check_threshold</span></code></a>) 的值将不被支持并会产生错误。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">int_max_str_digits</span></code></a> 命令行旗标或 <span class="target" id="index-108"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONINTMAXSTRDIGITS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONINTMAXSTRDIGITS</span></code></a> 环境变量配置。</p>
<p class="translated">默认值：在 Python 模式下为 <code class="docutils literal notranslate"><span class="pre">-1</span></code> 。 在孤立模式下为 4300 (<a class="reference internal" href="../library/sys.html#sys.int_info.default_max_str_digits" title="sys.int_info.default_max_str_digits"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.int_info.default_max_str_digits</span></code></a>)。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.12.</span></p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.cpu_count">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cpu_count</span></span></span><a class="headerlink" href="#c.PyConfig.cpu_count" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果 <a class="reference internal" href="#c.PyConfig.cpu_count" title="PyConfig.cpu_count"><code class="xref c c-member docutils literal notranslate"><span class="pre">cpu_count</span></code></a> 的值不为 <code class="docutils literal notranslate"><span class="pre">-1</span></code> 则它将覆盖 <a class="reference internal" href="../library/os.html#os.cpu_count" title="os.cpu_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.cpu_count()</span></code></a>, <a class="reference internal" href="../library/os.html#os.process_cpu_count" title="os.process_cpu_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.process_cpu_count()</span></code></a> 和 <a class="reference internal" href="../library/multiprocessing.html#multiprocessing.cpu_count" title="multiprocessing.cpu_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">multiprocessing.cpu_count()</span></code></a> 的返回值。</p>
<p class="translated">通过 <code class="samp docutils literal notranslate"><span class="pre">-X</span> <span class="pre">cpu_count=</span><em><span class="pre">n|default</span></em></code> 命令行旗标或 <span class="target" id="index-109"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHON_CPU_COUNT"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHON_CPU_COUNT</span></code></a> 环境变量来配置。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.13.</span></p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.isolated">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">isolated</span></span></span><a class="headerlink" href="#c.PyConfig.isolated" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果大于 <code class="docutils literal notranslate"><span class="pre">0</span></code> ，则启用隔离模式：</p>
<ul class="simple">
<li><p class="translated">将 <a class="reference internal" href="#c.PyConfig.safe_path" title="PyConfig.safe_path"><code class="xref c c-member docutils literal notranslate"><span class="pre">safe_path</span></code></a> 设为 <code class="docutils literal notranslate"><span class="pre">1</span></code>: 在 Python 启动时将不在 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> 前添加有潜在不安全性的路径，如当前目录、脚本所在目录或空字符串。</p></li>
<li><p class="translated">将 <a class="reference internal" href="#c.PyConfig.use_environment" title="PyConfig.use_environment"><code class="xref c c-member docutils literal notranslate"><span class="pre">use_environment</span></code></a> 设为 <code class="docutils literal notranslate"><span class="pre">0</span></code>: 忽略 <code class="docutils literal notranslate"><span class="pre">PYTHON</span></code> 环境变量。</p></li>
<li><p class="translated">将 <a class="reference internal" href="#c.PyConfig.user_site_directory" title="PyConfig.user_site_directory"><code class="xref c c-member docutils literal notranslate"><span class="pre">user_site_directory</span></code></a> 设为 <code class="docutils literal notranslate"><span class="pre">0</span></code>: 不要将用户级站点目录添加到 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a>。</p></li>
<li><p class="translated">Python REPL 将不导入 <a class="reference internal" href="../library/readline.html#module-readline" title="readline: GNU readline support for Python. (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">readline</span></code></a> 也不在交互提示符中启用默认的 readline 配置。</p></li>
</ul>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-I"><code class="xref std std-option docutils literal notranslate"><span class="pre">-I</span></code></a> 命令行选项设置为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">默认值: 在 Python 模式中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>，在隔离模式中为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">另请参阅 <a class="reference internal" href="#init-isolated-conf"><span class="std std-ref">隔离配置</span></a> 和 <a class="reference internal" href="#c.PyPreConfig.isolated" title="PyPreConfig.isolated"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyPreConfig.isolated</span></code></a>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.legacy_windows_stdio">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">legacy_windows_stdio</span></span></span><a class="headerlink" href="#c.PyConfig.legacy_windows_stdio" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，则使用 <a class="reference internal" href="../library/io.html#io.FileIO" title="io.FileIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.FileIO</span></code></a> 代替 <code class="xref py py-class docutils literal notranslate"><span class="pre">io._WindowsConsoleIO</span></code> 作为 <a class="reference internal" href="../library/sys.html#sys.stdin" title="sys.stdin"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdin</span></code></a>、<a class="reference internal" href="../library/sys.html#sys.stdout" title="sys.stdout"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdout</span></code></a> 和 <a class="reference internal" href="../library/sys.html#sys.stderr" title="sys.stderr"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stderr</span></code></a>。</p>
<p class="translated">如果 <span class="target" id="index-110"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONLEGACYWINDOWSSTDIO"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONLEGACYWINDOWSSTDIO</span></code></a> 环境变量被设为非空字符串则设为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">仅在 Windows 上可用。 <code class="docutils literal notranslate"><span class="pre">#ifdef</span> <span class="pre">MS_WINDOWS</span></code> 宏可被用于 Windows 专属的代码。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p class="translated">另请参阅 <span class="target" id="index-111"></span><a class="pep reference external" href="https://peps.python.org/pep-0528/"><strong>PEP 528</strong></a> (将 Windows 控制台编码格式更改为 UTF-8)。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.malloc_stats">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">malloc_stats</span></span></span><a class="headerlink" href="#c.PyConfig.malloc_stats" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，则在退出时转储 <a class="reference internal" href="memory.html#pymalloc"><span class="std std-ref">Python pymalloc 内存分配器</span></a> 的统计数据。</p>
<p class="translated">由 <span class="target" id="index-112"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONMALLOCSTATS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONMALLOCSTATS</span></code></a> 环境变量设置为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">如果 Python 是 <a class="reference internal" href="../using/configure.html#cmdoption-without-pymalloc"><code class="xref std std-option docutils literal notranslate"><span class="pre">使用</span> <span class="pre">--without-pymalloc</span> <span class="pre">选项进行配置</span></code></a> 则该选项将被忽略。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.platlibdir">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">platlibdir</span></span></span><a class="headerlink" href="#c.PyConfig.platlibdir" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">平台库目录名称: <a class="reference internal" href="../library/sys.html#sys.platlibdir" title="sys.platlibdir"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.platlibdir</span></code></a>。</p>
<p class="translated">由 <span class="target" id="index-113"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONPLATLIBDIR"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPLATLIBDIR</span></code></a> 环境变量设置。</p>
<p class="translated">默认值：由 <a class="reference internal" href="../using/configure.html#cmdoption-with-platlibdir"><code class="xref std std-option docutils literal notranslate"><span class="pre">configure</span> <span class="pre">--with-platlibdir</span> <span class="pre">选项</span></code></a> 设置的 <code class="docutils literal notranslate"><span class="pre">PLATLIBDIR</span></code> 宏的值 (默认值: <code class="docutils literal notranslate"><span class="pre">&quot;lib&quot;</span></code>，在 Windows 上则为 <code class="docutils literal notranslate"><span class="pre">&quot;DLLs&quot;</span></code>)。</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 输入的一部分。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.9.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.11 版本发生变更: </span>目前在 Windows 系统中该宏被用于定位标准库扩展模块，通常位于 <code class="docutils literal notranslate"><span class="pre">DLLs</span></code> 下。 不过，出于兼容性考虑，请注意在任何非标准布局包括树内构建和虚拟环境中，该值都将被忽略。</p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.pythonpath_env">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">pythonpath_env</span></span></span><a class="headerlink" href="#c.PyConfig.pythonpath_env" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">模块搜索路径 (<a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a>) 为一个用 <code class="docutils literal notranslate"><span class="pre">DELIM</span></code> (<a class="reference internal" href="../library/os.html#os.pathsep" title="os.pathsep"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.pathsep</span></code></a>) 分隔的字符串。</p>
<p class="translated">由 <span class="target" id="index-114"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONPATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPATH</span></code></a> 环境变量设置。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 输入的一部分。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.module_search_paths">
<a class="reference internal" href="#c.PyWideStringList" title="PyWideStringList"><span class="n"><span class="pre">PyWideStringList</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">module_search_paths</span></span></span><a class="headerlink" href="#c.PyConfig.module_search_paths" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.module_search_paths_set">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">module_search_paths_set</span></span></span><a class="headerlink" href="#c.PyConfig.module_search_paths_set" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">模块搜索路径: <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a>。</p>
<p class="translated">如果 <a class="reference internal" href="#c.PyConfig.module_search_paths_set" title="PyConfig.module_search_paths_set"><code class="xref c c-member docutils literal notranslate"><span class="pre">module_search_paths_set</span></code></a> 等于 <code class="docutils literal notranslate"><span class="pre">0</span></code>，<a class="reference internal" href="init.html#c.Py_InitializeFromConfig" title="Py_InitializeFromConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_InitializeFromConfig()</span></code></a> 将替代 <a class="reference internal" href="#c.PyConfig.module_search_paths" title="PyConfig.module_search_paths"><code class="xref c c-member docutils literal notranslate"><span class="pre">module_search_paths</span></code></a> 并将 <a class="reference internal" href="#c.PyConfig.module_search_paths_set" title="PyConfig.module_search_paths_set"><code class="xref c c-member docutils literal notranslate"><span class="pre">module_search_paths_set</span></code></a> 设为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">默认值：空列表 (<code class="docutils literal notranslate"><span class="pre">module_search_paths</span></code>) 和 <code class="docutils literal notranslate"><span class="pre">0</span></code> (<code class="docutils literal notranslate"><span class="pre">module_search_paths_set</span></code>)。</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 的一部分。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.optimization_level">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">optimization_level</span></span></span><a class="headerlink" href="#c.PyConfig.optimization_level" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">编译优化级别：</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">0</span></code>: Peephole 优化器，将 <code class="docutils literal notranslate"><span class="pre">__debug__</span></code> 设为 <code class="docutils literal notranslate"><span class="pre">True</span></code>。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">1</span></code>: 0 级，移除断言，将 <code class="docutils literal notranslate"><span class="pre">__debug__</span></code> 设为 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">2</span></code>: 1 级，去除文档字符串。</p></li>
</ul>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-O"><code class="xref std std-option docutils literal notranslate"><span class="pre">-O</span></code></a> 命令行选项递增。 设置为 <span class="target" id="index-115"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONOPTIMIZE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONOPTIMIZE</span></code></a> 环境变量值。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.orig_argv">
<a class="reference internal" href="#c.PyWideStringList" title="PyWideStringList"><span class="n"><span class="pre">PyWideStringList</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">orig_argv</span></span></span><a class="headerlink" href="#c.PyConfig.orig_argv" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">传给 Python 可执行程序的原始命令行参数列表: <a class="reference internal" href="../library/sys.html#sys.orig_argv" title="sys.orig_argv"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.orig_argv</span></code></a>。</p>
<p class="translated">如果 <a class="reference internal" href="#c.PyConfig.orig_argv" title="PyConfig.orig_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">orig_argv</span></code></a> 列表为空并且 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 不是一个只包含空字符串的列表，<a class="reference internal" href="#c.PyConfig_Read" title="PyConfig_Read"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Read()</span></code></a> 将在修改 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 之前把 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 拷贝至 <a class="reference internal" href="#c.PyConfig.orig_argv" title="PyConfig.orig_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">orig_argv</span></code></a> (如果 <a class="reference internal" href="#c.PyConfig.parse_argv" title="PyConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">parse_argv</span></code></a> 不为空)。</p>
<p class="translated">另请参阅 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 成员和 <a class="reference internal" href="#c.Py_GetArgcArgv" title="Py_GetArgcArgv"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetArgcArgv()</span></code></a> 函数。</p>
<p class="translated">默认值：空列表。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.10.</span></p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.parse_argv">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">parse_argv</span></span></span><a class="headerlink" href="#c.PyConfig.parse_argv" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">解析命令行参数？</p>
<p class="translated">如果等于 <code class="docutils literal notranslate"><span class="pre">1</span></code>，则以与常规 Python 解析 <a class="reference internal" href="../using/cmdline.html#using-on-cmdline"><span class="std std-ref">命令行参数</span></a> 相同的方式解析 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a>，并从 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 中剥离 Python 参数。</p>
<p class="translated"><a class="reference internal" href="#c.PyConfig_Read" title="PyConfig_Read"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Read()</span></code></a> 函数对 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.argv</span></code></a> 参数只会解析一次：在参数解析完成后 <a class="reference internal" href="#c.PyConfig.parse_argv" title="PyConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.parse_argv</span></code></a> 将被设为 <code class="docutils literal notranslate"><span class="pre">2</span></code>。 由于 Python 参数是从 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.argv</span></code></a> 提取的，因此解析参数两次会将应用程序选项解析为 Python 选项。</p>
<p class="translated">默认值：在 Python 模式下为 <code class="docutils literal notranslate"><span class="pre">1</span></code>，在隔离模式下为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.10 版本发生变更: </span>现在只有当 <a class="reference internal" href="#c.PyConfig.parse_argv" title="PyConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.parse_argv</span></code></a> 等于 <code class="docutils literal notranslate"><span class="pre">1</span></code> 时才会解析 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.argv</span></code></a> 参数。</p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.parser_debug">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">parser_debug</span></span></span><a class="headerlink" href="#c.PyConfig.parser_debug" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">解析器调试模式。 如果大于 <code class="docutils literal notranslate"><span class="pre">0</span></code>，则打开解析器调试输出（仅针对专家，取决于编译选项）。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-d"><code class="xref std std-option docutils literal notranslate"><span class="pre">-d</span></code></a> 命令行选项递增。 设置为 <span class="target" id="index-116"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONDEBUG"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONDEBUG</span></code></a> 环境变量值。</p>
<p class="translated">需要 <a class="reference internal" href="../using/configure.html#debug-build"><span class="std std-ref">Python 调试编译版</span></a> (必须已定义 <code class="docutils literal notranslate"><span class="pre">Py_DEBUG</span></code> 宏)。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.pathconfig_warnings">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pathconfig_warnings</span></span></span><a class="headerlink" href="#c.PyConfig.pathconfig_warnings" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，则允许计算路径配置以将警告记录到 <code class="docutils literal notranslate"><span class="pre">stderr</span></code> 中。 如果等于 <code class="docutils literal notranslate"><span class="pre">0</span></code>，则抑制这些警告。</p>
<p class="translated">默认值：在 Python 模式下为 <code class="docutils literal notranslate"><span class="pre">1</span></code>，在隔离模式下为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 输入的一部分。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.11 版本发生变更: </span>现在也适用于 Windows。</p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.prefix">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">prefix</span></span></span><a class="headerlink" href="#c.PyConfig.prefix" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">安装依赖于平台的 Python 文件的站点专属目录前缀: <a class="reference internal" href="../library/sys.html#sys.prefix" title="sys.prefix"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.prefix</span></code></a>。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 的一部分。</p>
<p class="translated">另请参阅 <a class="reference internal" href="#c.PyConfig.base_prefix" title="PyConfig.base_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.base_prefix</span></code></a>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.program_name">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">program_name</span></span></span><a class="headerlink" href="#c.PyConfig.program_name" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">用于初始化 <a class="reference internal" href="#c.PyConfig.executable" title="PyConfig.executable"><code class="xref c c-member docutils literal notranslate"><span class="pre">executable</span></code></a> 和在 Python 初始化期间早期错误消息中使用的程序名称。</p>
<ul class="simple">
<li><p class="translated">在 macOS 上，如果设置了 <span class="target" id="index-117"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONEXECUTABLE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONEXECUTABLE</span></code></a> 环境变量则会使用它。</p></li>
<li><p class="translated">如果定义了 <code class="docutils literal notranslate"><span class="pre">WITH_NEXT_FRAMEWORK</span></code> 宏，当设置了 <span class="target" id="index-118"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">__PYVENV_LAUNCHER__</span></code> 环境变量时将会使用它。</p></li>
<li><p class="translated">如果 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">argv[0]</span></code> 可用并且不为空值则会使用它。</p></li>
<li><p class="translated">否则，在 Windows 上将使用 <code class="docutils literal notranslate"><span class="pre">L&quot;python&quot;</span></code>，在其他平台上将使用 <code class="docutils literal notranslate"><span class="pre">L&quot;python3&quot;</span></code>。</p></li>
</ul>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p class="translated"><a class="reference internal" href="#init-path-config"><span class="std std-ref">Python 路径配置</span></a> 输入的一部分。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.pycache_prefix">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">pycache_prefix</span></span></span><a class="headerlink" href="#c.PyConfig.pycache_prefix" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">缓存 <code class="docutils literal notranslate"><span class="pre">.pyc</span></code> 文件被写入到的目录: <a class="reference internal" href="../library/sys.html#sys.pycache_prefix" title="sys.pycache_prefix"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.pycache_prefix</span></code></a>。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">pycache_prefix=PATH</span></code></a> 命令行选项和 <span class="target" id="index-119"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONPYCACHEPREFIX"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPYCACHEPREFIX</span></code></a> 环境变量设置。 命令行选项优先级更高。</p>
<p class="translated">如果为 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>，则 <a class="reference internal" href="../library/sys.html#sys.pycache_prefix" title="sys.pycache_prefix"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.pycache_prefix</span></code></a> 将被设为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.quiet">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">quiet</span></span></span><a class="headerlink" href="#c.PyConfig.quiet" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">安静模式。 如果大于 <code class="docutils literal notranslate"><span class="pre">0</span></code>，则在交互模式下启动 Python 时不显示版权和版本。</p>
<p class="translated">由 <a class="reference internal" href="../using/cmdline.html#cmdoption-q"><code class="xref std std-option docutils literal notranslate"><span class="pre">-q</span></code></a> 命令行选项执行递增。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.run_command">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">run_command</span></span></span><a class="headerlink" href="#c.PyConfig.run_command" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated"><a class="reference internal" href="../using/cmdline.html#cmdoption-c"><code class="xref std std-option docutils literal notranslate"><span class="pre">-c</span></code></a> 命令行选项的值。</p>
<p class="translated">由 <a class="reference internal" href="init.html#c.Py_RunMain" title="Py_RunMain"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_RunMain()</span></code></a> 使用。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.run_filename">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">run_filename</span></span></span><a class="headerlink" href="#c.PyConfig.run_filename" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">通过命令行传入的文件名：不包含 <a class="reference internal" href="../using/cmdline.html#cmdoption-c"><code class="xref std std-option docutils literal notranslate"><span class="pre">-c</span></code></a> 或 <a class="reference internal" href="../using/cmdline.html#cmdoption-m"><code class="xref std std-option docutils literal notranslate"><span class="pre">-m</span></code></a> 的附加命令行参数。 它会被 <a class="reference internal" href="init.html#c.Py_RunMain" title="Py_RunMain"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_RunMain()</span></code></a> 函数使用。</p>
<p class="translated">例如，对于命令行 <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">script.py</span> <span class="pre">arg</span></code> 它将被设为 <code class="docutils literal notranslate"><span class="pre">script.py</span></code>。</p>
<p class="translated">另请参阅 <a class="reference internal" href="#c.PyConfig.skip_source_first_line" title="PyConfig.skip_source_first_line"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.skip_source_first_line</span></code></a> 选项。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.run_module">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">run_module</span></span></span><a class="headerlink" href="#c.PyConfig.run_module" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated"><a class="reference internal" href="../using/cmdline.html#cmdoption-m"><code class="xref std std-option docutils literal notranslate"><span class="pre">-m</span></code></a> 命令行选项的值。</p>
<p class="translated">由 <a class="reference internal" href="init.html#c.Py_RunMain" title="Py_RunMain"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_RunMain()</span></code></a> 使用。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.run_presite">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">run_presite</span></span></span><a class="headerlink" href="#c.PyConfig.run_presite" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated"><code class="docutils literal notranslate"><span class="pre">package.module</span></code> 模块路径，它应当在运行 <code class="docutils literal notranslate"><span class="pre">site.py</span></code> 之前被导入。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">presite=package.module</span></code></a> 命令行选项和 <span class="target" id="index-120"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHON_PRESITE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHON_PRESITE</span></code></a> 环境变量设置。 命令行选项优先级更高。</p>
<p class="translated">需要 <a class="reference internal" href="../using/configure.html#debug-build"><span class="std std-ref">Python 调试编译版</span></a> (必须已定义 <code class="docutils literal notranslate"><span class="pre">Py_DEBUG</span></code> 宏)。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.show_ref_count">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">show_ref_count</span></span></span><a class="headerlink" href="#c.PyConfig.show_ref_count" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">是否要在退出时显示总引用计数 (不包括 <a class="reference internal" href="../glossary.html#term-immortal"><span class="xref std std-term">immortal</span></a> 对象)？</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">showrefcount</span></code></a> 命令行选项设置为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">需要 <a class="reference internal" href="../using/configure.html#debug-build"><span class="std std-ref">Python 调试编译版</span></a> (必须已定义 <code class="docutils literal notranslate"><span class="pre">Py_REF_DEBUG</span></code> 宏)。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.site_import">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">site_import</span></span></span><a class="headerlink" href="#c.PyConfig.site_import" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">在启动时导入 <a class="reference internal" href="../library/site.html#module-site" title="site: Module responsible for site-specific configuration."><code class="xref py py-mod docutils literal notranslate"><span class="pre">site</span></code></a> 模块？</p>
<p class="translated">如果等于零，则禁用模块站点的导入以及由此产生的与站点相关的 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> 操作。</p>
<p class="translated">如果以后显式地导入 <a class="reference internal" href="../library/site.html#module-site" title="site: Module responsible for site-specific configuration."><code class="xref py py-mod docutils literal notranslate"><span class="pre">site</span></code></a> 模块也要禁用这些操作（如果你希望触发这些操作，请调用 <a class="reference internal" href="../library/site.html#site.main" title="site.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">site.main()</span></code></a> 函数）。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-S"><code class="xref std std-option docutils literal notranslate"><span class="pre">-S</span></code></a> 命令行选项设置为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p class="translated"><a class="reference internal" href="../library/sys.html#sys.flags" title="sys.flags"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.flags.no_site</span></code></a> 会被设为 <a class="reference internal" href="#c.PyConfig.site_import" title="PyConfig.site_import"><code class="xref c c-member docutils literal notranslate"><span class="pre">site_import</span></code></a> 取反后的值。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.skip_source_first_line">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">skip_source_first_line</span></span></span><a class="headerlink" href="#c.PyConfig.skip_source_first_line" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，则跳过 <a class="reference internal" href="#c.PyConfig.run_filename" title="PyConfig.run_filename"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.run_filename</span></code></a> 源的第一行。</p>
<p class="translated">它将允许使用非 Unix 形式的 <code class="docutils literal notranslate"><span class="pre">#!cmd</span></code>。 这是针对 DOS 专属的破解操作。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-x"><code class="xref std std-option docutils literal notranslate"><span class="pre">-x</span></code></a> 命令行选项设置为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.stdio_encoding">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">stdio_encoding</span></span></span><a class="headerlink" href="#c.PyConfig.stdio_encoding" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.stdio_errors">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">stdio_errors</span></span></span><a class="headerlink" href="#c.PyConfig.stdio_errors" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated"><a class="reference internal" href="../library/sys.html#sys.stdin" title="sys.stdin"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdin</span></code></a>、<a class="reference internal" href="../library/sys.html#sys.stdout" title="sys.stdout"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdout</span></code></a> 和 <a class="reference internal" href="../library/sys.html#sys.stderr" title="sys.stderr"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stderr</span></code></a> 的编码格式和编码格式错误（但 <a class="reference internal" href="../library/sys.html#sys.stderr" title="sys.stderr"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stderr</span></code></a> 将始终使用 <code class="docutils literal notranslate"><span class="pre">&quot;backslashreplace&quot;</span></code> 错误处理器）。</p>
<p class="translated">如果 <span class="target" id="index-121"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONIOENCODING"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONIOENCODING</span></code></a> 环境变量非空则会使用它。</p>
<p class="translated">默认编码格式：</p>
<ul class="simple">
<li><p class="translated">如果 <a class="reference internal" href="#c.PyPreConfig.utf8_mode" title="PyPreConfig.utf8_mode"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyPreConfig.utf8_mode</span></code></a> 为非零值则使用 <code class="docutils literal notranslate"><span class="pre">&quot;UTF-8&quot;</span></code>。</p></li>
<li><p class="translated">在其他情况下，使用 <a class="reference internal" href="../glossary.html#term-locale-encoding"><span class="xref std std-term">locale encoding</span></a>。</p></li>
</ul>
<p class="translated">默认错误处理器：</p>
<ul class="simple">
<li><p class="translated">在 Windows 上：使用 <code class="docutils literal notranslate"><span class="pre">&quot;surrogateescape&quot;</span></code>。</p></li>
<li><p class="translated">如果 <a class="reference internal" href="#c.PyPreConfig.utf8_mode" title="PyPreConfig.utf8_mode"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyPreConfig.utf8_mode</span></code></a> 为非零值，或者如果 LC_CTYPE 语言区域为 &quot;C&quot; 或 &quot;POSIX&quot; 则使用 <code class="docutils literal notranslate"><span class="pre">&quot;surrogateescape&quot;</span></code>。</p></li>
<li><p class="translated">在其他情况下则使用 <code class="docutils literal notranslate"><span class="pre">&quot;strict&quot;</span></code>。</p></li>
</ul>
<p class="translated">另请参阅 <a class="reference internal" href="#c.PyConfig.legacy_windows_stdio" title="PyConfig.legacy_windows_stdio"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.legacy_windows_stdio</span></code></a>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.tracemalloc">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tracemalloc</span></span></span><a class="headerlink" href="#c.PyConfig.tracemalloc" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">启用 tracemalloc？</p>
<p class="translated">如果为非零值，则在启动时调用 <a class="reference internal" href="../library/tracemalloc.html#tracemalloc.start" title="tracemalloc.start"><code class="xref py py-func docutils literal notranslate"><span class="pre">tracemalloc.start()</span></code></a>。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">tracemalloc=N</span></code></a> 命令行选项和 <span class="target" id="index-122"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONTRACEMALLOC"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONTRACEMALLOC</span></code></a> 环境变量设置。</p>
<p class="translated">默认值: 在 Python 模式中为 <code class="docutils literal notranslate"><span class="pre">-1</span></code>，在隔离模式中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.perf_profiling">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">perf_profiling</span></span></span><a class="headerlink" href="#c.PyConfig.perf_profiling" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">是否启用 Linux <code class="docutils literal notranslate"><span class="pre">perf</span></code> 性能分析器支持？</p>
<p class="translated">如果等于 <code class="docutils literal notranslate"><span class="pre">1</span></code>，则启用对 Linux <code class="docutils literal notranslate"><span class="pre">perf</span></code> 性能分析器的支持。</p>
<p class="translated">如果等于 <code class="docutils literal notranslate"><span class="pre">2</span></code>，则启用对带有 DWARF JIT 支持的 Linux <code class="docutils literal notranslate"><span class="pre">perf</span></code> 性能分析器的支持。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">perf</span></code></a> 命令行选项和 <span class="target" id="index-123"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONPERFSUPPORT"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPERFSUPPORT</span></code></a> 环境变量设置为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">perf_jit</span></code></a> 命令行选项和 <span class="target" id="index-124"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHON_PERF_JIT_SUPPORT"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHON_PERF_JIT_SUPPORT</span></code></a> 环境变量设置为 <code class="docutils literal notranslate"><span class="pre">2</span></code>。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">-1</span></code>。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p class="translated">请参阅 <a class="reference internal" href="../howto/perf_profiling.html#perf-profiling"><span class="std std-ref">Python 对 Linux perf 性能分析器的支持</span></a> 了解详情。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.12.</span></p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.stdlib_dir">
<span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">stdlib_dir</span></span></span><a class="headerlink" href="#c.PyConfig.stdlib_dir" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">Python 标准库的目录。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.11.</span></p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.use_environment">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_environment</span></span></span><a class="headerlink" href="#c.PyConfig.use_environment" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">使用 <a class="reference internal" href="../using/cmdline.html#using-on-envvars"><span class="std std-ref">环境变量</span></a>？</p>
<p class="translated">如果等于零，则忽略 <a class="reference internal" href="../using/cmdline.html#using-on-envvars"><span class="std std-ref">环境变量</span></a>。</p>
<p class="translated">由 <a class="reference internal" href="../using/cmdline.html#cmdoption-E"><code class="xref std std-option docutils literal notranslate"><span class="pre">-E</span></code></a> 环境变量设置为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p class="translated">默认值: 在 Python 配置中为 <code class="docutils literal notranslate"><span class="pre">1</span></code> 而在隔离配置中为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.use_system_logger">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_system_logger</span></span></span><a class="headerlink" href="#c.PyConfig.use_system_logger" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，则 <code class="docutils literal notranslate"><span class="pre">stdout</span></code> 和 <code class="docutils literal notranslate"><span class="pre">stderr</span></code> 将被重定向到系统日志。</p>
<p class="translated">仅在 macOS 10.12 和更新版本，以及 iOS 上可用。</p>
<p class="translated">默认值: 在 macOS 上为 <code class="docutils literal notranslate"><span class="pre">0</span></code> (不使用系统日志); 在 iOS 上为 <code class="docutils literal notranslate"><span class="pre">1</span></code> (使用系统日志)。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.14.</span></p>
</div>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.user_site_directory">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">user_site_directory</span></span></span><a class="headerlink" href="#c.PyConfig.user_site_directory" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果为非零值，则将用户站点目录添加到 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a>。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-s"><code class="xref std std-option docutils literal notranslate"><span class="pre">-s</span></code></a> 和 <a class="reference internal" href="../using/cmdline.html#cmdoption-I"><code class="xref std std-option docutils literal notranslate"><span class="pre">-I</span></code></a> 命令行选项设置为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p class="translated">由 <span class="target" id="index-125"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONNOUSERSITE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONNOUSERSITE</span></code></a> 环境变量设置为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p class="translated">默认值：在 Python 模式下为 <code class="docutils literal notranslate"><span class="pre">1</span></code>，在隔离模式下为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.verbose">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">verbose</span></span></span><a class="headerlink" href="#c.PyConfig.verbose" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">详细模式。 如果大于 <code class="docutils literal notranslate"><span class="pre">0</span></code>，则每次导入模块时都会打印一条消息，显示加载模块的位置（文件名或内置模块）。</p>
<p class="translated">如果大于等于 <code class="docutils literal notranslate"><span class="pre">2</span></code>，则为搜索模块时每个被检查的文件打印一条消息。 还在退出时提供关于模块清理的信息。</p>
<p class="translated">由 <a class="reference internal" href="../using/cmdline.html#cmdoption-v"><code class="xref std std-option docutils literal notranslate"><span class="pre">-v</span></code></a> 命令行选项执行递增。</p>
<p class="translated">通过 <span class="target" id="index-126"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONVERBOSE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONVERBOSE</span></code></a> 环境变量值设置。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.warnoptions">
<a class="reference internal" href="#c.PyWideStringList" title="PyWideStringList"><span class="n"><span class="pre">PyWideStringList</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">warnoptions</span></span></span><a class="headerlink" href="#c.PyConfig.warnoptions" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated"><a class="reference internal" href="../library/warnings.html#module-warnings" title="warnings: Issue warning messages and control their disposition."><code class="xref py py-mod docutils literal notranslate"><span class="pre">warnings</span></code></a> 模块用于构建警告过滤器的选项，优先级从低到高: <a class="reference internal" href="../library/sys.html#sys.warnoptions" title="sys.warnoptions"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.warnoptions</span></code></a>。</p>
<p class="translated"><a class="reference internal" href="../library/warnings.html#module-warnings" title="warnings: Issue warning messages and control their disposition."><code class="xref py py-mod docutils literal notranslate"><span class="pre">warnings</span></code></a> 模块以相反的顺序添加 <a class="reference internal" href="../library/sys.html#sys.warnoptions" title="sys.warnoptions"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.warnoptions</span></code></a>: 最后一个 <a class="reference internal" href="#c.PyConfig.warnoptions" title="PyConfig.warnoptions"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.warnoptions</span></code></a> 条目将成为 <code class="xref py py-data docutils literal notranslate"><span class="pre">warnings.filters</span></code> 的第一个条目并将最先被检查（最高优先级）。</p>
<p class="translated"><a class="reference internal" href="../using/cmdline.html#cmdoption-W"><code class="xref std std-option docutils literal notranslate"><span class="pre">-W</span></code></a> 命令行选项会将其值添加到 <a class="reference internal" href="#c.PyConfig.warnoptions" title="PyConfig.warnoptions"><code class="xref c c-member docutils literal notranslate"><span class="pre">warnoptions</span></code></a> 中，它可以被多次使用。</p>
<p class="translated"><span class="target" id="index-127"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONWARNINGS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONWARNINGS</span></code></a> 环境变量也可被用于添加警告选项。 可以指定多个选项，并以逗号 (<code class="docutils literal notranslate"><span class="pre">,</span></code>) 分隔。</p>
<p class="translated">默认值：空列表。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.write_bytecode">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">write_bytecode</span></span></span><a class="headerlink" href="#c.PyConfig.write_bytecode" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如果等于 <code class="docutils literal notranslate"><span class="pre">0</span></code>，Python 将不会尝试在导入源模块时写入 <code class="docutils literal notranslate"><span class="pre">.pyc</span></code> 文件。</p>
<p class="translated">通过 <a class="reference internal" href="../using/cmdline.html#cmdoption-B"><code class="xref std std-option docutils literal notranslate"><span class="pre">-B</span></code></a> 命令行选项和 <span class="target" id="index-128"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONDONTWRITEBYTECODE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONDONTWRITEBYTECODE</span></code></a> 环境变量设置为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<p class="translated"><a class="reference internal" href="../library/sys.html#sys.dont_write_bytecode" title="sys.dont_write_bytecode"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.dont_write_bytecode</span></code></a> 会被初始化为 <a class="reference internal" href="#c.PyConfig.write_bytecode" title="PyConfig.write_bytecode"><code class="xref c c-member docutils literal notranslate"><span class="pre">write_bytecode</span></code></a> 取反后的值。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig.xoptions">
<a class="reference internal" href="#c.PyWideStringList" title="PyWideStringList"><span class="n"><span class="pre">PyWideStringList</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xoptions</span></span></span><a class="headerlink" href="#c.PyConfig.xoptions" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated"><a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span></code></a> 命令行选项的值: <a class="reference internal" href="../library/sys.html#sys._xoptions" title="sys._xoptions"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys._xoptions</span></code></a>。</p>
<p class="translated">默认值：空列表。</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.PyConfig._pystats">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_pystats</span></span></span><a class="headerlink" href="#c.PyConfig._pystats" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">如为非零值，则在 Python 退出时写入性能统计数据。</p>
<p class="translated">需要带有 <code class="docutils literal notranslate"><span class="pre">Py_STATS</span></code> 宏的特殊构建版：参见 <a class="reference internal" href="../using/configure.html#cmdoption-enable-pystats"><code class="xref std std-option docutils literal notranslate"><span class="pre">--enable-pystats</span></code></a>。</p>
<p class="translated">默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

</dd></dl>

<p class="translated">如果 <a class="reference internal" href="#c.PyConfig.parse_argv" title="PyConfig.parse_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">parse_argv</span></code></a> 为非零值，则 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 参数将以与常规 Python 解析 <a class="reference internal" href="../using/cmdline.html#using-on-cmdline"><span class="std std-ref">命令行参数</span></a> 相同的方式被解析，并从 <a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">argv</span></code></a> 中剥离 Python 参数。</p>
<p class="translated"><a class="reference internal" href="#c.PyConfig.xoptions" title="PyConfig.xoptions"><code class="xref c c-member docutils literal notranslate"><span class="pre">xoptions</span></code></a> 选项将会被解析以设置其他选项：参见 <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span></code></a> 命令行选项。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.9 版本发生变更: </span><code class="docutils literal notranslate"><span class="pre">show_alloc_count</span></code> 字段已被移除。</p>
</div>
</section>
<section id="initialization-with-pyconfig">
<span id="init-from-config"></span><h3 class="translated">使用 PyConfig 初始化<a class="headerlink" href="#initialization-with-pyconfig" title="Link to this heading">¶</a></h3>
<p class="translated">基于一个已填充内容的配置结构体初始化解释器是通过调用 <a class="reference internal" href="init.html#c.Py_InitializeFromConfig" title="Py_InitializeFromConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_InitializeFromConfig()</span></code></a> 来处理的。</p>
<p class="translated">调用方要负责使用 <a class="reference internal" href="#c.PyStatus_Exception" title="PyStatus_Exception"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyStatus_Exception()</span></code></a> 和 <a class="reference internal" href="#c.Py_ExitStatusException" title="Py_ExitStatusException"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_ExitStatusException()</span></code></a> 来处理异常（错误或退出）。</p>
<p class="translated">如果使用了 <a class="reference internal" href="import.html#c.PyImport_FrozenModules" title="PyImport_FrozenModules"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_FrozenModules()</span></code></a>、<a class="reference internal" href="import.html#c.PyImport_AppendInittab" title="PyImport_AppendInittab"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_AppendInittab()</span></code></a> 或 <a class="reference internal" href="import.html#c.PyImport_ExtendInittab" title="PyImport_ExtendInittab"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_ExtendInittab()</span></code></a>，则必须在 Python 预初始化之后、Python 初始化之前设置或调用它们。 如果 Python 被多次初始化，则必须在每次初始化 Python 之前调用 <a class="reference internal" href="import.html#c.PyImport_AppendInittab" title="PyImport_AppendInittab"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_AppendInittab()</span></code></a> 或 <a class="reference internal" href="import.html#c.PyImport_ExtendInittab" title="PyImport_ExtendInittab"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_ExtendInittab()</span></code></a>。</p>
<p class="translated">当前的配置 (<code class="docutils literal notranslate"><span class="pre">PyConfig</span></code> 类型) 保存在 <code class="docutils literal notranslate"><span class="pre">PyInterpreterState.config</span></code> 中。</p>
<p class="translated">设置程序名称的示例:</p>
<div class="translated highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">init_python</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">PyStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>

<span class="w">    </span><span class="n">PyConfig</span><span class="w"> </span><span class="n">config</span><span class="p">;</span>
<span class="w">    </span><span class="n">PyConfig_InitPythonConfig</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/* 设置程序名称。 隐式地预初始化 Python。 */</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PyConfig_SetString</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">config</span><span class="p">.</span><span class="n">program_name</span><span class="p">,</span>
<span class="w">                                </span><span class="sa">L</span><span class="s">&quot;/path/to/my_program&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_Exception</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">exception</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Py_InitializeFromConfig</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_Exception</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">exception</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">PyConfig_Clear</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="p">;</span>

<span class="nl">exception</span><span class="p">:</span>
<span class="w">    </span><span class="n">PyConfig_Clear</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="w">    </span><span class="n">Py_ExitStatusException</span><span class="p">(</span><span class="n">status</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="translated">更完整的示例会修改默认配置，读取配置，然后覆盖某些参数。 请注意自 3.11 版开始，许多参数在初始化之前不会被计算，因此无法从配置结构体中读取值。在调用初始化之前设置的任何值都将不会被初始化操作改变:</p>
<div class="translated highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">PyStatus</span><span class="w"> </span><span class="nf">init_python</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">program_name</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">PyStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>

<span class="w">    </span><span class="n">PyConfig</span><span class="w"> </span><span class="n">config</span><span class="p">;</span>
<span class="w">    </span><span class="n">PyConfig_InitPythonConfig</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/* 在读取配置之前设置程序名称</span>
<span class="cm">       (基于语言区域的编码格式来解码字节串)。</span>

<span class="cm">       Implicitly preinitialize Python. */</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PyConfig_SetBytesString</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">config</span><span class="p">.</span><span class="n">program_name</span><span class="p">,</span>
<span class="w">                                     </span><span class="n">program_name</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_Exception</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">done</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/* 一次性读取所有配置 */</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PyConfig_Read</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_Exception</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">done</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/* 显式地指定 sys.path */</span>
<span class="w">    </span><span class="cm">/* 如果你希望修改默认的路径集合，</span>
<span class="cm">       可先完成初始化再使用 PySys_GetObject(&quot;path&quot;) */</span>
<span class="w">    </span><span class="n">config</span><span class="p">.</span><span class="n">module_search_paths_set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PyWideStringList_Append</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">.</span><span class="n">module_search_paths</span><span class="p">,</span>
<span class="w">                                     </span><span class="sa">L</span><span class="s">&quot;/path/to/stdlib&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_Exception</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">done</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PyWideStringList_Append</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">.</span><span class="n">module_search_paths</span><span class="p">,</span>
<span class="w">                                     </span><span class="sa">L</span><span class="s">&quot;/path/to/more/modules&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_Exception</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">done</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/* Override executable computed by PyConfig_Read() */</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PyConfig_SetString</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">config</span><span class="p">.</span><span class="n">executable</span><span class="p">,</span>
<span class="w">                                </span><span class="sa">L</span><span class="s">&quot;/path/to/my_executable&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">PyStatus_Exception</span><span class="p">(</span><span class="n">status</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">done</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Py_InitializeFromConfig</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>

<span class="nl">done</span><span class="p">:</span>
<span class="w">    </span><span class="n">PyConfig_Clear</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="isolated-configuration">
<span id="init-isolated-conf"></span><h3 class="translated">隔离配置<a class="headerlink" href="#isolated-configuration" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="#c.PyPreConfig_InitIsolatedConfig" title="PyPreConfig_InitIsolatedConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyPreConfig_InitIsolatedConfig()</span></code></a> 和 <a class="reference internal" href="#c.PyConfig_InitIsolatedConfig" title="PyConfig_InitIsolatedConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_InitIsolatedConfig()</span></code></a> 函数会创建一个配置来将 Python 与系统隔离开来。 例如，将 Python 嵌入到某个应用程序。</p>
<p class="translated">该配置将忽略全局配置变量、环境变量、命令行参数 (<a class="reference internal" href="#c.PyConfig.argv" title="PyConfig.argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.argv</span></code></a> 将不会被解析) 和用户站点目录。 C 标准流 (例如 <code class="docutils literal notranslate"><span class="pre">stdout</span></code>) 和 LC_CTYPE 语言区域将保持不变。 信号处理器将不会被安装。</p>
<p class="translated">该配置仍然会使用配置文件来确定未被指明的路径。 请确保指定了 <a class="reference internal" href="#c.PyConfig.home" title="PyConfig.home"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.home</span></code></a> 以避免计算默认的路径配置。</p>
</section>
<section id="python-configuration">
<span id="init-python-config"></span><h3 class="translated">Python 配置<a class="headerlink" href="#python-configuration" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="#c.PyPreConfig_InitPythonConfig" title="PyPreConfig_InitPythonConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyPreConfig_InitPythonConfig()</span></code></a> 和 <a class="reference internal" href="#c.PyConfig_InitPythonConfig" title="PyConfig_InitPythonConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_InitPythonConfig()</span></code></a> 函数会创建一个配置来构建一个行为与常规 Python 相同的自定义 Python。</p>
<p class="translated">环境变量和命令行参数将被用于配置 Python，而全局配置变量将被忽略。</p>
<p class="translated">此函数将根据 LC_CTYPE 语言区域、<span class="target" id="index-129"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONUTF8"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONUTF8</span></code></a> 和 <span class="target" id="index-130"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONCOERCECLOCALE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONCOERCECLOCALE</span></code></a> 环境变量启用 C 语言区域强制转换 (<span class="target" id="index-131"></span><a class="pep reference external" href="https://peps.python.org/pep-0538/"><strong>PEP 538</strong></a>) 和 <a class="reference internal" href="../library/os.html#utf8-mode"><span class="std std-ref">Python UTF-8 模式</span></a> (<span class="target" id="index-132"></span><a class="pep reference external" href="https://peps.python.org/pep-0540/"><strong>PEP 540</strong></a>)。</p>
</section>
<section id="python-path-configuration">
<span id="init-path-config"></span><h3 class="translated">Python 路径配置<a class="headerlink" href="#python-path-configuration" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="#c.PyConfig" title="PyConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyConfig</span></code></a> 包含多个用于路径配置的字段：</p>
<ul class="simple">
<li><p class="translated">路径配置输入：</p>
<ul>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.home" title="PyConfig.home"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.home</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.platlibdir" title="PyConfig.platlibdir"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.platlibdir</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.pathconfig_warnings" title="PyConfig.pathconfig_warnings"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.pathconfig_warnings</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.program_name" title="PyConfig.program_name"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.program_name</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.pythonpath_env" title="PyConfig.pythonpath_env"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.pythonpath_env</span></code></a></p></li>
<li><p class="translated">当前工作目录：用于获取绝对路径</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">PATH</span></code> 环境变量用于获取程序的完整路径 (来自 <a class="reference internal" href="#c.PyConfig.program_name" title="PyConfig.program_name"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.program_name</span></code></a>)</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">__PYVENV_LAUNCHER__</span></code> 环境变量</p></li>
<li><p class="translated">（仅限 Windows only） 注册表 HKEY_CURRENT_USER 和 HKEY_LOCAL_MACHINE 的 &quot;SoftwarePythonPythonCoreX.YPythonPath&quot; 项下的应用程序目录（其中 X.Y 为 Python 版本）。</p></li>
</ul>
</li>
<li><p class="translated">路径配置输出字段：</p>
<ul>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.base_exec_prefix" title="PyConfig.base_exec_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.base_exec_prefix</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.base_executable" title="PyConfig.base_executable"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.base_executable</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.base_prefix" title="PyConfig.base_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.base_prefix</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.exec_prefix" title="PyConfig.exec_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.exec_prefix</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.executable" title="PyConfig.executable"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.executable</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.module_search_paths_set" title="PyConfig.module_search_paths_set"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.module_search_paths_set</span></code></a>,
<a class="reference internal" href="#c.PyConfig.module_search_paths" title="PyConfig.module_search_paths"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.module_search_paths</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="#c.PyConfig.prefix" title="PyConfig.prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.prefix</span></code></a></p></li>
</ul>
</li>
</ul>
<p class="translated">如果至少有一个“输出字段”未被设置，Python 就会计算路径配置来填充未设置的字段。 如果 <a class="reference internal" href="#c.PyConfig.module_search_paths_set" title="PyConfig.module_search_paths_set"><code class="xref c c-member docutils literal notranslate"><span class="pre">module_search_paths_set</span></code></a> 等于 <code class="docutils literal notranslate"><span class="pre">0</span></code>，则 <a class="reference internal" href="#c.PyConfig.module_search_paths" title="PyConfig.module_search_paths"><code class="xref c c-member docutils literal notranslate"><span class="pre">module_search_paths</span></code></a> 将被覆盖并且 <a class="reference internal" href="#c.PyConfig.module_search_paths_set" title="PyConfig.module_search_paths_set"><code class="xref c c-member docutils literal notranslate"><span class="pre">module_search_paths_set</span></code></a> 将被设置为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p>
<p class="translated">通过显式地设置上述所有路径配置输出字段可以完全忽略计算默认路径配置的函数。 即使字符串不为空也会被视为已设置。 如果 <code class="docutils literal notranslate"><span class="pre">module_search_paths_set</span></code> 被设为 <code class="docutils literal notranslate"><span class="pre">1</span></code> 则 <code class="docutils literal notranslate"><span class="pre">module_search_paths</span></code> 会被视为已设置。 在这种情况下，<code class="docutils literal notranslate"><span class="pre">module_search_paths</span></code> 将不加修改地被使用。</p>
<p class="translated">将 <a class="reference internal" href="#c.PyConfig.pathconfig_warnings" title="PyConfig.pathconfig_warnings"><code class="xref c c-member docutils literal notranslate"><span class="pre">pathconfig_warnings</span></code></a> 设为 <code class="docutils literal notranslate"><span class="pre">0</span></code> 以便在计算路径配置时抑制警告（仅限 Unix，Windows 不会记录任何警告）。</p>
<p class="translated">如果 <a class="reference internal" href="#c.PyConfig.base_prefix" title="PyConfig.base_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">base_prefix</span></code></a> 或 <a class="reference internal" href="#c.PyConfig.base_exec_prefix" title="PyConfig.base_exec_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">base_exec_prefix</span></code></a> 字段未设置，它们将分别从 <a class="reference internal" href="#c.PyConfig.prefix" title="PyConfig.prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">prefix</span></code></a> 和 <a class="reference internal" href="#c.PyConfig.exec_prefix" title="PyConfig.exec_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">exec_prefix</span></code></a> 继承其值。</p>
<p class="translated"><a class="reference internal" href="init.html#c.Py_RunMain" title="Py_RunMain"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_RunMain()</span></code></a> 和 <a class="reference internal" href="init.html#c.Py_Main" title="Py_Main"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_Main()</span></code></a> 将修改 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a>:</p>
<ul class="simple">
<li><p class="translated">如果 <a class="reference internal" href="#c.PyConfig.run_filename" title="PyConfig.run_filename"><code class="xref c c-member docutils literal notranslate"><span class="pre">run_filename</span></code></a> 已设置并且是一个包含 <code class="docutils literal notranslate"><span class="pre">__main__.py</span></code> 脚本的目录，则会将 <a class="reference internal" href="#c.PyConfig.run_filename" title="PyConfig.run_filename"><code class="xref c c-member docutils literal notranslate"><span class="pre">run_filename</span></code></a> 添加到 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> 的开头。</p></li>
<li><p class="translated">如果 <a class="reference internal" href="#c.PyConfig.isolated" title="PyConfig.isolated"><code class="xref c c-member docutils literal notranslate"><span class="pre">isolated</span></code></a> 为零：</p>
<ul>
<li><p class="translated">如果设置了 <a class="reference internal" href="#c.PyConfig.run_module" title="PyConfig.run_module"><code class="xref c c-member docutils literal notranslate"><span class="pre">run_module</span></code></a>，则将当前目录添加到 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> 的开头。 如果无法读取当前目录则不执行任何操作。</p></li>
<li><p class="translated">如果设置了 <a class="reference internal" href="#c.PyConfig.run_filename" title="PyConfig.run_filename"><code class="xref c c-member docutils literal notranslate"><span class="pre">run_filename</span></code></a>，则将文件名的目录添加到 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> 的开头。</p></li>
<li><p class="translated">在其他情况下，则将一个空字符串添加到 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> 的开头。</p></li>
</ul>
</li>
</ul>
<p class="translated">如果 <a class="reference internal" href="#c.PyConfig.site_import" title="PyConfig.site_import"><code class="xref c c-member docutils literal notranslate"><span class="pre">site_import</span></code></a> 为非零值，则 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a> 可通过 <a class="reference internal" href="../library/site.html#module-site" title="site: Module responsible for site-specific configuration."><code class="xref py py-mod docutils literal notranslate"><span class="pre">site</span></code></a> 模块修改。 如果 <a class="reference internal" href="#c.PyConfig.user_site_directory" title="PyConfig.user_site_directory"><code class="xref c c-member docutils literal notranslate"><span class="pre">user_site_directory</span></code></a> 为非零值且用户的 site-package 目录存在，则 <a class="reference internal" href="../library/site.html#module-site" title="site: Module responsible for site-specific configuration."><code class="xref py py-mod docutils literal notranslate"><span class="pre">site</span></code></a> 模块会将用户的 site-package 目录附加到 <a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a>。</p>
<p class="translated">路径配置会使用以下配置文件：</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">pyvenv.cfg</span></code></p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">._pth</span></code> 文件 (例如: <code class="docutils literal notranslate"><span class="pre">python._pth</span></code>)</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">pybuilddir.txt</span></code> (仅Unix)</p></li>
</ul>
<p class="translated">如果存在 <code class="docutils literal notranslate"><span class="pre">._pth</span></code> 文件:</p>
<ul class="simple">
<li><p class="translated">将 <a class="reference internal" href="#c.PyConfig.isolated" title="PyConfig.isolated"><code class="xref c c-member docutils literal notranslate"><span class="pre">isolated</span></code></a> 设为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p></li>
<li><p class="translated">将 <a class="reference internal" href="#c.PyConfig.use_environment" title="PyConfig.use_environment"><code class="xref c c-member docutils literal notranslate"><span class="pre">use_environment</span></code></a> 设为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p class="translated">将 <a class="reference internal" href="#c.PyConfig.site_import" title="PyConfig.site_import"><code class="xref c c-member docutils literal notranslate"><span class="pre">site_import</span></code></a> 设为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p class="translated">将 <a class="reference internal" href="#c.PyConfig.safe_path" title="PyConfig.safe_path"><code class="xref c c-member docutils literal notranslate"><span class="pre">safe_path</span></code></a> 设为 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p></li>
</ul>
<p class="translated">如果未设置 <a class="reference internal" href="#c.PyConfig.home" title="PyConfig.home"><code class="xref c c-member docutils literal notranslate"><span class="pre">home</span></code></a> 并且 <a class="reference internal" href="#c.PyConfig.executable" title="PyConfig.executable"><code class="xref c c-member docutils literal notranslate"><span class="pre">executable</span></code></a> 的目录或其父目录下存在 <code class="docutils literal notranslate"><span class="pre">pyvenv.cfg</span></code> 文件，则 <a class="reference internal" href="#c.PyConfig.prefix" title="PyConfig.prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">prefix</span></code></a> 和 <a class="reference internal" href="#c.PyConfig.exec_prefix" title="PyConfig.exec_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">exec_prefix</span></code></a> 将被设为该目录，<a class="reference internal" href="#c.PyConfig.base_prefix" title="PyConfig.base_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">base_prefix</span></code></a> 和 <a class="reference internal" href="#c.PyConfig.base_exec_prefix" title="PyConfig.base_exec_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">base_exec_prefix</span></code></a> 仍会保持其原值，即指向基础安装目录。 请参阅 <a class="reference internal" href="../library/sys_path_init.html#sys-path-init-virtual-environments"><span class="std std-ref">虚拟环境</span></a> 了解详情。</p>
<p class="translated">使用 <code class="docutils literal notranslate"><span class="pre">__PYVENV_LAUNCHER__</span></code> 环境变量来设置 <a class="reference internal" href="#c.PyConfig.base_executable" title="PyConfig.base_executable"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.base_executable</span></code></a>。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.14 版本发生变更: </span>现在 <a class="reference internal" href="#c.PyConfig.prefix" title="PyConfig.prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">prefix</span></code></a> 和 <a class="reference internal" href="#c.PyConfig.exec_prefix" title="PyConfig.exec_prefix"><code class="xref c c-member docutils literal notranslate"><span class="pre">exec_prefix</span></code></a> 会被设为 <code class="docutils literal notranslate"><span class="pre">pyvenv.cfg</span></code> 目录。 在之前版本中这是由 <a class="reference internal" href="../library/site.html#module-site" title="site: Module responsible for site-specific configuration."><code class="xref py py-mod docutils literal notranslate"><span class="pre">site</span></code></a> 完成的，因而会受 <a class="reference internal" href="../using/cmdline.html#cmdoption-S"><code class="xref std std-option docutils literal notranslate"><span class="pre">-S</span></code></a> 影响。</p>
</div>
</section>
</section>
<section id="py-getargcargv">
<h2 class="translated">Py_GetArgcArgv()<a class="headerlink" href="#py-getargcargv" title="Link to this heading">¶</a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.Py_GetArgcArgv">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Py_GetArgcArgv</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">argc</span></span>, <span class="n"><span class="pre">wchar_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">argv</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.Py_GetArgcArgv" title="Link to this definition">¶</a><br /></dt>
<dd><p class="translated">在 Python 修改原始命令行参数之前，获取这些参数。</p>
<p class="translated">另请参阅 <a class="reference internal" href="#c.PyConfig.orig_argv" title="PyConfig.orig_argv"><code class="xref c c-member docutils literal notranslate"><span class="pre">PyConfig.orig_argv</span></code></a> 成员。</p>
</dd></dl>

</section>
<section id="delaying-main-module-execution">
<h2 class="translated">延迟主模块的执行<a class="headerlink" href="#delaying-main-module-execution" title="Link to this heading">¶</a></h2>
<p class="translated">在某些嵌入式用例中，可能会需要将解释器初始化和主模块的执行分隔开来。</p>
<p class="translated">这种分隔可通过在初始化期间将 <code class="docutils literal notranslate"><span class="pre">PyConfig.run_command</span></code> 设为空字符串来达成（以避免解释器进入交互提示符），然后再使用 <code class="docutils literal notranslate"><span class="pre">__main__.__dict__</span></code> 作为全局命名空间来执行所需的主模块代码。</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">Python 初始化配置</a><ul>
<li><a class="reference internal" href="#pyinitconfig-c-api">PyInitConfig C API</a><ul>
<li><a class="reference internal" href="#example">示例</a></li>
<li><a class="reference internal" href="#create-config">创建配置</a></li>
<li><a class="reference internal" href="#error-handling">错误处理</a></li>
<li><a class="reference internal" href="#get-options">获取选项</a></li>
<li><a class="reference internal" href="#set-options">设置选项</a></li>
<li><a class="reference internal" href="#module">模块</a></li>
<li><a class="reference internal" href="#initialize-python">初始化 Python</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-options">配置选项</a></li>
<li><a class="reference internal" href="#runtime-python-configuration-api">运行时 Python 配置 API</a></li>
<li><a class="reference internal" href="#pyconfig-c-api">PyConfig C API</a><ul>
<li><a class="reference internal" href="#id1">示例</a></li>
<li><a class="reference internal" href="#pywidestringlist">PyWideStringList</a></li>
<li><a class="reference internal" href="#pystatus">PyStatus</a></li>
<li><a class="reference internal" href="#pypreconfig">PyPreConfig</a></li>
<li><a class="reference internal" href="#preinitialize-python-with-pypreconfig">使用 PyPreConfig 预初始化 Python</a></li>
<li><a class="reference internal" href="#pyconfig">PyConfig</a></li>
<li><a class="reference internal" href="#initialization-with-pyconfig">使用 PyConfig 初始化</a></li>
<li><a class="reference internal" href="#isolated-configuration">隔离配置</a></li>
<li><a class="reference internal" href="#python-configuration">Python 配置</a></li>
<li><a class="reference internal" href="#python-path-configuration">Python 路径配置</a></li>
</ul>
</li>
<li><a class="reference internal" href="#py-getargcargv">Py_GetArgcArgv()</a></li>
<li><a class="reference internal" href="#delaying-main-module-execution">延迟主模块的执行</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一主题</h4>
    <p class="topless"><a href="init.html"
                          title="上一章">初始化，最终化和线程</a></p>
  </div>
  <div>
    <h4>下一主题</h4>
    <p class="topless"><a href="memory.html"
                          title="下一章">内存管理</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>当前页</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">报告代码错误</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/c-api/init_config.rst?plain=1"
            rel="nofollow">显示源码
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="折叠边栏">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="Related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="memory.html" title="内存管理"
             >下一页</a> |</li>
        <li class="right" >
          <a href="init.html" title="初始化，最终化和线程"
             >上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.14.0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python/C API 参考手册</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Python 初始化配置</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="search" name="q" id="search-box">
          <input type="submit" value="转到">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    主题
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>自动</option>
        <option value="light">明亮</option>
        <option value="dark">黑暗</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">版权</a> 2001 Python Software Foundation.
    <br>
    本页面采用 Python 软件基金会许可证第 2 版授权。
    <br>
    文档中的示例、代码片段及其他代码内容额外采用零条款 BSD 许可证授权。
    <br>
    
      更多信息请参阅《<a href="/license.html"> 历史与许可 </a>》。<br>
    
    
    <br>

    Python 软件基金会是一家非营利性公司。
<a href="https://www.python.org/psf/donations/">请进行捐赠。</a>
<br>
    <br>
      最后更新于11月 25, 2025 (07:24 UTC) 。
    
      <a href="/bugs.html">发现了错误</a>？
    
    <br>

    使用<a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3 创建。
    </div>

  </body>
</html>