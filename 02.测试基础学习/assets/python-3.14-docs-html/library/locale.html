<!DOCTYPE html>

<html lang="zh-CN" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="locale --- 国际化服务" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/library/locale.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="源代码： Lib/locale.py locale 模块开通了 POSIX 本地化数据库和功能的访问。POSIX 本地化机制让程序员能够为应用程序处理某些本地化的问题，而不需要去了解运行软件的每个国家的全部语言习惯。 locale 模块是在_locale 模块之上实现的，后者又会在可能的情况下使用 ANSI C 语言区域实现。 locale 模块定义了以下异常和函数： 示例： 背景、细节、提..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="https://docs.python.org/3.14/zh-cn/_images/social_previews/summary_library_locale_2900d30e.png" />
<meta property="og:image:alt" content="源代码： Lib/locale.py locale 模块开通了 POSIX 本地化数据库和功能的访问。POSIX 本地化机制让程序员能够为应用程序处理某些本地化的问题，而不需要去了解运行软件的每个国家的全部语言习惯。 locale 模块是在_locale 模块之上实现的，后者又会在可能的情况下使用 ANSI C 语言区域实现。 locale 模块定义了以下异常和函数： 示例： 背景、细节、提..." />
<meta name="description" content="源代码： Lib/locale.py locale 模块开通了 POSIX 本地化数据库和功能的访问。POSIX 本地化机制让程序员能够为应用程序处理某些本地化的问题，而不需要去了解运行软件的每个国家的全部语言习惯。 locale 模块是在_locale 模块之上实现的，后者又会在可能的情况下使用 ANSI C 语言区域实现。 locale 模块定义了以下异常和函数： 示例： 背景、细节、提..." />
<meta name="twitter:card" content="summary_large_image" />
<meta name="theme-color" content="#3776ab">

    <title>locale --- 国际化服务 &#8212; Python 3.14.0 文档</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=234b1a7c" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?v=8cd84f99" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css?v=5349f25f" />
    
    <script src="../_static/documentation_options.js?v=a595ec0e"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Python 3.14.0 文档 中搜索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="关于此文档" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="copyright" title="版权" href="../copyright.html" />
    <link rel="next" title="使用 Tk 创建图形用户界面" href="tk.html" />
    <link rel="prev" title="gettext --- 多语种国际化服务" href="gettext.html" />
    
      
      <script defer file-types="bz2,epub,zip" data-domain="docs.python.org" src="https://analytics.python.org/js/script.file-downloads.outbound-links.js"></script>
      
      <link rel="canonical" href="https://docs.python.org/3/library/locale.html">
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg">
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="菜单">
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo">
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="快速搜索" aria-label="快速搜索" type="search" name="q">
                <input type="submit" value="转到">
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    主题
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>自动</option>
        <option value="light">明亮</option>
        <option value="dark">黑暗</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code> --- 国际化服务</a><ul>
<li><a class="reference internal" href="#background-details-hints-tips-and-caveats">背景、细节、提示、技巧和注意事项</a></li>
<li><a class="reference internal" href="#locale-names">区域设置名称</a></li>
<li><a class="reference internal" href="#for-extension-writers-and-programs-that-embed-python">针对扩展程序编写人员和嵌入Python 运行的程序</a></li>
<li><a class="reference internal" href="#access-to-message-catalogs">访问消息目录</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一主题</h4>
    <p class="topless"><a href="gettext.html"
                          title="上一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gettext</span></code> --- 多语种国际化服务</a></p>
  </div>
  <div>
    <h4>下一主题</h4>
    <p class="topless"><a href="tk.html"
                          title="下一章">使用 Tk 创建图形用户界面</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>当前页</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">报告代码错误</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/locale.rst?plain=1"
            rel="nofollow">显示源码
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="Related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="tk.html" title="使用 Tk 创建图形用户界面"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="gettext.html" title="gettext --- 多语种国际化服务"
             accesskey="P">上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.14.0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 标准库</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="i18n.html" accesskey="U">国际化</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code> --- 国际化服务</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="search" name="q" id="search-box">
          <input type="submit" value="转到">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    主题
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>自动</option>
        <option value="light">明亮</option>
        <option value="dark">黑暗</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-locale">
<span id="locale-internationalization-services"></span><h1 class="translated"><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code> --- 国际化服务<a class="headerlink" href="#module-locale" title="Link to this heading">¶</a></h1>
<p class="translated"><strong>源代码：</strong> <a class="extlink-source reference external" href="https://github.com/python/cpython/tree/3.14/Lib/locale.py">Lib/locale.py</a></p>
<hr class="docutils" />
<p class="translated"><a class="reference internal" href="#module-locale" title="locale: Internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code></a> 模块开通了 POSIX 本地化数据库和功能的访问。POSIX 本地化机制让程序员能够为应用程序处理某些本地化的问题，而不需要去了解运行软件的每个国家的全部语言习惯。</p>
<p class="translated" id="index-0"><a class="reference internal" href="#module-locale" title="locale: Internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code></a> 模块是在 <code class="xref py py-mod docutils literal notranslate"><span class="pre">_locale</span></code> 模块之上实现的，后者又会在可能的情况下使用 ANSI C 语言区域实现。</p>
<p class="translated"><a class="reference internal" href="#module-locale" title="locale: Internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code></a> 模块定义了以下异常和函数：</p>
<dl class="py exception">
<dt class="sig sig-object py" id="locale.Error">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">Error</span></span><a class="headerlink" href="#locale.Error" title="Link to this definition">¶</a></dt>
<dd><p class="translated">当传给 <a class="reference internal" href="#locale.setlocale" title="locale.setlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">setlocale()</span></code></a> 的 locale 无法识别时，会触发异常。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.setlocale">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">setlocale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.setlocale" title="Link to this definition">¶</a></dt>
<dd><p class="translated">如果给定了 <em>locale</em> 而不是 <code class="docutils literal notranslate"><span class="pre">None</span></code>，<a class="reference internal" href="#locale.setlocale" title="locale.setlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">setlocale()</span></code></a> 会为 <em>category</em> 修改语言区域设置。 可用的类别在下面的数据描述中列出。 <em>locale</em> 可以是一个 <a class="reference internal" href="#locale-name"><span class="std std-ref">字符串</span></a>，或是一个表示语言代码和编码格式的字符串对。 空字符串表示用户的默认设置。 如果语言区域修改失败，会引发 <a class="reference internal" href="#locale.Error" title="locale.Error"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Error</span></code></a> 异常。 如果成功，则返回新的语言区域设置。</p>
<p class="translated">如果 <em>locale</em> 是一个元组，则会通过区域设置别名引擎将其转换为区域设置名称。其中语言代码的格式与 <a class="reference internal" href="#locale-name"><span class="std std-ref">区域设置名称</span></a> 相同，但不包含编码信息和以 &#64; 开头的修饰符。语言代码和编码都可以为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<p class="translated">如果省略 <em>locale</em> 或为 <code class="docutils literal notranslate"><span class="pre">None</span></code>，将返回 <em>category</em> 但当前设置。</p>
<p class="translated"><a class="reference internal" href="#locale.setlocale" title="locale.setlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">setlocale()</span></code></a> 在大多数系统上都不是线程安全的。应用程序通常会如下调用：</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">locale</span>
<span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">这会把所有类别的 locale 都设为用户的默认设置（通常在 <span class="target" id="index-11"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">LANG</span></code> 环境变量中指定）。如果后续 locale 没有改动，则使用多线程应该不会产生问题。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.localeconv">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">localeconv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locale.localeconv" title="Link to this definition">¶</a></dt>
<dd><p class="translated">以字典的形式返回本地约定的数据库。此字典具有以下字符串作为键：</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p class="translated">类别</p></th>
<th class="head"><p class="translated">键</p></th>
<th class="head"><p class="translated">含意</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p class="translated"><a class="reference internal" href="#locale.LC_NUMERIC" title="locale.LC_NUMERIC"><code class="xref py py-const docutils literal notranslate"><span class="pre">LC_NUMERIC</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'decimal_point'</span></code></p></td>
<td><p class="translated">小数点字符。</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'grouping'</span></code></p></td>
<td><p class="translated">数字列表，指定 <code class="docutils literal notranslate"><span class="pre">'thousands_sep'</span></code> 应该出现的位置。 如果列表以 <a class="reference internal" href="#locale.CHAR_MAX" title="locale.CHAR_MAX"><code class="xref py py-const docutils literal notranslate"><span class="pre">CHAR_MAX</span></code></a> 结束，则不会作分组。如果列表以 <code class="docutils literal notranslate"><span class="pre">0</span></code> 结束，则重复使用最后的分组大小。</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'thousands_sep'</span></code></p></td>
<td><p class="translated">组之间使用的字符。</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><a class="reference internal" href="#locale.LC_MONETARY" title="locale.LC_MONETARY"><code class="xref py py-const docutils literal notranslate"><span class="pre">LC_MONETARY</span></code></a></p></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'int_curr_symbol'</span></code></p></td>
<td><p class="translated">国际货币符号。</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'currency_symbol'</span></code></p></td>
<td><p class="translated">当地货币符号。</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'p_cs_precedes/n_cs_precedes'</span></code></p></td>
<td><p class="translated">货币符号是否在值之前（对于正值或负值）。</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'p_sep_by_space/n_sep_by_space'</span></code></p></td>
<td><p class="translated">货币符号是否通过空格与值分隔（对于正值或负值）。</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'mon_decimal_point'</span></code></p></td>
<td><p class="translated">用于货币金额的小数点。</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'frac_digits'</span></code></p></td>
<td><p class="translated">货币值的本地格式中使用的小数位数。</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'int_frac_digits'</span></code></p></td>
<td><p class="translated">货币价值的国际格式中使用的小数位数。</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'mon_thousands_sep'</span></code></p></td>
<td><p class="translated">用于货币值的组分隔符。</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'mon_grouping'</span></code></p></td>
<td><p class="translated">相当于 <code class="docutils literal notranslate"><span class="pre">'grouping'</span></code> ，用于货币价值。</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'positive_sign'</span></code></p></td>
<td><p class="translated">用于标注正货币价值的符号。</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'negative_sign'</span></code></p></td>
<td><p class="translated">用于注释负货币价值的符号。</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'p_sign_posn/n_sign_posn'</span></code></p></td>
<td><p class="translated">符号的位置（对于正值或负值），见下文。</p></td>
</tr>
</tbody>
</table>
<p class="translated">可以将所有数值设置为 <a class="reference internal" href="#locale.CHAR_MAX" title="locale.CHAR_MAX"><code class="xref py py-const docutils literal notranslate"><span class="pre">CHAR_MAX</span></code></a> ，以指示本 locale 中未指定任何值。</p>
<p class="translated">下面给出了 <code class="docutils literal notranslate"><span class="pre">'p_sign_posn'</span></code> 和 <code class="docutils literal notranslate"><span class="pre">'n_sign_posn'</span></code> 的可能值。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p class="translated">值</p></th>
<th class="head"><p class="translated">说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p class="translated">被括号括起来的货币和金额。</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p class="translated">该标志应位于值和货币符号之前。</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">2</span></code></p></td>
<td><p class="translated">该标志应位于值和货币符号之后。</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">3</span></code></p></td>
<td><p class="translated">标志应该紧跟在值之前。</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">4</span></code></p></td>
<td><p class="translated">标志应该紧跟在值之后。</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">CHAR_MAX</span></code></p></td>
<td><p class="translated">该地区未指定内容。</p></td>
</tr>
</tbody>
</table>
<p class="translated">此函数可临时性地将 <code class="docutils literal notranslate"><span class="pre">LC_CTYPE</span></code> 语言区域设为 <code class="docutils literal notranslate"><span class="pre">LC_NUMERIC</span></code> 语言区域或者如果语言区域不同且数字或货币字符串是非 ASCII 的则设为 <code class="docutils literal notranslate"><span class="pre">LC_MONETARY</span></code> 语言区域。 这个临时性地改变会影响到其他线程。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.7 版本发生变更: </span>现在此函数在某些情况下会临时性地将 <code class="docutils literal notranslate"><span class="pre">LC_CTYPE</span></code> 语言区域设为 <code class="docutils literal notranslate"><span class="pre">LC_NUMERIC</span></code> 语言区域。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.nl_langinfo">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">nl_langinfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">option</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.nl_langinfo" title="Link to this definition">¶</a></dt>
<dd><p class="translated">以字符串形式返回一些地区相关的信息。本函数并非在所有系统都可用，而且可用的 option 在不同平台上也可能不同。可填的参数值为数值，在 locale 模块中提供了对应的符号常量。</p>
<p class="translated"><a class="reference internal" href="#locale.nl_langinfo" title="locale.nl_langinfo"><code class="xref py py-func docutils literal notranslate"><span class="pre">nl_langinfo()</span></code></a> 函数可接受以下值。大部分含义都取自 GNU C 库。</p>
<dl class="py data">
<dt class="sig sig-object py" id="locale.CODESET">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">CODESET</span></span><a class="headerlink" href="#locale.CODESET" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一个字符串，代表所选地区采用的字符编码名称。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.D_T_FMT">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">D_T_FMT</span></span><a class="headerlink" href="#locale.D_T_FMT" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一个字符串，可用作 <a class="reference internal" href="time.html#time.strftime" title="time.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a> 的格式串，以便以地区特定格式表示日期和时间。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.D_FMT">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">D_FMT</span></span><a class="headerlink" href="#locale.D_FMT" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一个字符串，可用作 <a class="reference internal" href="time.html#time.strftime" title="time.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a> 的格式串，以便以地区特定格式表示日期。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.T_FMT">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">T_FMT</span></span><a class="headerlink" href="#locale.T_FMT" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一个字符串，可用作 <a class="reference internal" href="time.html#time.strftime" title="time.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a> 的格式串，以便以地区特定格式表示时间。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.T_FMT_AMPM">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">T_FMT_AMPM</span></span><a class="headerlink" href="#locale.T_FMT_AMPM" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一个字符串，可用作 <a class="reference internal" href="time.html#time.strftime" title="time.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a> 的格式串，以便以 am/pm 的格式表示时间。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.DAY_1">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">DAY_1</span></span><a class="headerlink" href="#locale.DAY_1" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.DAY_2">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">DAY_2</span></span><a class="headerlink" href="#locale.DAY_2" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.DAY_3">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">DAY_3</span></span><a class="headerlink" href="#locale.DAY_3" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.DAY_4">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">DAY_4</span></span><a class="headerlink" href="#locale.DAY_4" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.DAY_5">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">DAY_5</span></span><a class="headerlink" href="#locale.DAY_5" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.DAY_6">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">DAY_6</span></span><a class="headerlink" href="#locale.DAY_6" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.DAY_7">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">DAY_7</span></span><a class="headerlink" href="#locale.DAY_7" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一周中第 n 天的名称。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p class="translated">这里遵循美国惯例，即 <a class="reference internal" href="#locale.DAY_1" title="locale.DAY_1"><code class="xref py py-const docutils literal notranslate"><span class="pre">DAY_1</span></code></a> 是星期天，而不是国际惯例（ISO 8601），即星期一是一周的第一天。</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.ABDAY_1">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABDAY_1</span></span><a class="headerlink" href="#locale.ABDAY_1" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABDAY_2">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABDAY_2</span></span><a class="headerlink" href="#locale.ABDAY_2" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABDAY_3">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABDAY_3</span></span><a class="headerlink" href="#locale.ABDAY_3" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABDAY_4">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABDAY_4</span></span><a class="headerlink" href="#locale.ABDAY_4" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABDAY_5">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABDAY_5</span></span><a class="headerlink" href="#locale.ABDAY_5" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABDAY_6">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABDAY_6</span></span><a class="headerlink" href="#locale.ABDAY_6" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABDAY_7">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABDAY_7</span></span><a class="headerlink" href="#locale.ABDAY_7" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一周中第 n 天的缩写名称。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.MON_1">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_1</span></span><a class="headerlink" href="#locale.MON_1" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.MON_2">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_2</span></span><a class="headerlink" href="#locale.MON_2" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.MON_3">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_3</span></span><a class="headerlink" href="#locale.MON_3" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.MON_4">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_4</span></span><a class="headerlink" href="#locale.MON_4" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.MON_5">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_5</span></span><a class="headerlink" href="#locale.MON_5" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.MON_6">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_6</span></span><a class="headerlink" href="#locale.MON_6" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.MON_7">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_7</span></span><a class="headerlink" href="#locale.MON_7" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.MON_8">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_8</span></span><a class="headerlink" href="#locale.MON_8" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.MON_9">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_9</span></span><a class="headerlink" href="#locale.MON_9" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.MON_10">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_10</span></span><a class="headerlink" href="#locale.MON_10" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.MON_11">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_11</span></span><a class="headerlink" href="#locale.MON_11" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.MON_12">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">MON_12</span></span><a class="headerlink" href="#locale.MON_12" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取第 n 个月的名称。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.ABMON_1">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_1</span></span><a class="headerlink" href="#locale.ABMON_1" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABMON_2">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_2</span></span><a class="headerlink" href="#locale.ABMON_2" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABMON_3">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_3</span></span><a class="headerlink" href="#locale.ABMON_3" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABMON_4">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_4</span></span><a class="headerlink" href="#locale.ABMON_4" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABMON_5">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_5</span></span><a class="headerlink" href="#locale.ABMON_5" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABMON_6">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_6</span></span><a class="headerlink" href="#locale.ABMON_6" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABMON_7">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_7</span></span><a class="headerlink" href="#locale.ABMON_7" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABMON_8">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_8</span></span><a class="headerlink" href="#locale.ABMON_8" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABMON_9">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_9</span></span><a class="headerlink" href="#locale.ABMON_9" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABMON_10">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_10</span></span><a class="headerlink" href="#locale.ABMON_10" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABMON_11">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_11</span></span><a class="headerlink" href="#locale.ABMON_11" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py" id="locale.ABMON_12">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ABMON_12</span></span><a class="headerlink" href="#locale.ABMON_12" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取第 n 个月的缩写名称。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.RADIXCHAR">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">RADIXCHAR</span></span><a class="headerlink" href="#locale.RADIXCHAR" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取小数点字符（小数点、小数逗号等）。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.THOUSEP">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">THOUSEP</span></span><a class="headerlink" href="#locale.THOUSEP" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取千位数（三位数一组）的分隔符。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.YESEXPR">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">YESEXPR</span></span><a class="headerlink" href="#locale.YESEXPR" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一个可供 regex 函数使用的正则表达式，用于识别需要回答是或否的问题的肯定回答。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.NOEXPR">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">NOEXPR</span></span><a class="headerlink" href="#locale.NOEXPR" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一个可供 <code class="docutils literal notranslate"><span class="pre">regex(3)</span></code> 函数使用的正则表达式以识别对于是/否型问题的否定回答。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p class="translated">针对 <a class="reference internal" href="#locale.YESEXPR" title="locale.YESEXPR"><code class="xref py py-const docutils literal notranslate"><span class="pre">YESEXPR</span></code></a> 和 <a class="reference internal" href="#locale.NOEXPR" title="locale.NOEXPR"><code class="xref py py-const docutils literal notranslate"><span class="pre">NOEXPR</span></code></a> 的正则表达式使用了适合来自 C 库的 <code class="docutils literal notranslate"><span class="pre">regex</span></code> 函数的语法，它与 <a class="reference internal" href="re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a> 中使用的语法会有所不同。</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.CRNCYSTR">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">CRNCYSTR</span></span><a class="headerlink" href="#locale.CRNCYSTR" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取货币符号，如果符号应位于数字之前，则在其前面加上“-”；如果符号应位于数字之后，则前面加“+”；如果符号应取代小数点字符，则前面加“.”。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.ERA">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ERA</span></span><a class="headerlink" href="#locale.ERA" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取用来在某一语言区域中描述每个时代如何计算和显示年份的字符串。</p>
<p class="translated">大多数地区都没有定义该值。定义了该值的一个案例日本。日本传统的日期表示方法中，包含了当时天皇统治朝代的名称。</p>
<p class="translated">通常没有必要直接使用该值。 在格式字符串中使用 <code class="docutils literal notranslate"><span class="pre">E</span></code> 说明符将会让 <a class="reference internal" href="time.html#time.strftime" title="time.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a> 函数使用此信息。 被返回字符串的格式是在 <em>The Open Group Base Specifications Issue 8</em>, paragraph <a class="reference external" href="https://pubs.opengroup.org/onlinepubs/9799919799/basedefs/V1_chap07.html#tag_07_03_05_02">7.3.5.2 LC_TIME C-Language Access</a> 中指明的。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.ERA_D_T_FMT">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ERA_D_T_FMT</span></span><a class="headerlink" href="#locale.ERA_D_T_FMT" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一个字符串，可用作 <a class="reference internal" href="time.html#time.strftime" title="time.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a> 的格式串，以便以地区特定格式表示带纪元的日期和时间。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.ERA_D_FMT">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ERA_D_FMT</span></span><a class="headerlink" href="#locale.ERA_D_FMT" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一个字符串，可用作 <a class="reference internal" href="time.html#time.strftime" title="time.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a> 的格式串，以便以地区特定格式表示带纪元的日期。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.ERA_T_FMT">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ERA_T_FMT</span></span><a class="headerlink" href="#locale.ERA_T_FMT" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一个字符串，可用作 <a class="reference internal" href="time.html#time.strftime" title="time.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a> 的格式串，以便以地区特定格式表示带纪元的时间。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.ALT_DIGITS">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">ALT_DIGITS</span></span><a class="headerlink" href="#locale.ALT_DIGITS" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取一个由至多 100 个以分号分隔的用于通过特定语言区域专属的方式表示数值 0 到 99 的符号名称组成的字符串。 在大多数语言区域中这都是一个空字符串。</p>
</dd></dl>

<p class="translated">如果语言区域不同并且结果字符串为非 ASCII 的则该函数会临时性地将 <code class="docutils literal notranslate"><span class="pre">LC_CTYPE</span></code> 语言区域设为决定所请求值 (<code class="docutils literal notranslate"><span class="pre">LC_TIME</span></code>, <code class="docutils literal notranslate"><span class="pre">LC_NUMERIC</span></code>, <code class="docutils literal notranslate"><span class="pre">LC_MONETARY</span></code> or <code class="docutils literal notranslate"><span class="pre">LC_MESSAGES</span></code>) 的类别的语言区域。 这个临时性修改会影响其他的线程。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.14 版本发生变更: </span>现在该函数在某些情况下会临时性地设置 <code class="docutils literal notranslate"><span class="pre">LC_CTYPE</span></code> 语言区域。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.getdefaultlocale">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">getdefaultlocale</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">envvars</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#locale.getdefaultlocale" title="Link to this definition">¶</a></dt>
<dd><p class="translated">尝试确定默认的地区设置，并以 <code class="docutils literal notranslate"><span class="pre">(language</span> <span class="pre">code,</span> <span class="pre">encoding)</span></code> 元组的形式返回。</p>
<p class="translated">根据 POSIX 的规范，未调用 <code class="docutils literal notranslate"><span class="pre">setlocale(LC_ALL,</span> <span class="pre">'')</span></code> 的程序采用可移植的 <code class="docutils literal notranslate"><span class="pre">'C'</span></code> 区域设置运行。 调用 <code class="docutils literal notranslate"><span class="pre">setlocale(LC_ALL,</span> <span class="pre">'')</span></code> 则可采用 <span class="target" id="index-12"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">LANG</span></code> 变量定义的默认区域。 由于不想干扰当前的区域设置，因此就以上述方式进行了模拟。</p>
<p class="translated">为了维持与其他平台的兼容性，不仅需要检测 <span class="target" id="index-13"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">LANG</span></code> 变量，还需要检测 envvars 参数给出的变量列表。首先发现的定义将被采用。 <em>envvars</em> 默认为 GNU gettext 采用的搜索路径；必须包含 <code class="docutils literal notranslate"><span class="pre">'LANG'</span></code> 变量。 GNU gettext 的搜索路径依次包含了 <code class="docutils literal notranslate"><span class="pre">'LC_ALL'</span></code>、<code class="docutils literal notranslate"><span class="pre">'LC_CTYPE'</span></code>、<code class="docutils literal notranslate"><span class="pre">'LANG'</span></code> 和 <code class="docutils literal notranslate"><span class="pre">'LANGUAGE'</span></code>。</p>
<p class="translated">语言代码的格式与 <a class="reference internal" href="#locale-name"><span class="std std-ref">区域设置名称</span></a> 相同，但不包含编码和 <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> 修饰符。如果无法确定其值，语言代码和编码可以为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。&quot;C&quot; 区域设置表示为 <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">None)</span></code>。</p>
<div class="deprecated-removed">
<p><span class="versionmodified deprecated">Deprecated since version 3.11, will be removed in version 3.15.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.getlocale">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">getlocale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">LC_CTYPE</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.getlocale" title="Link to this definition">¶</a></dt>
<dd><p class="translated">返回指定区域设置类别的当前设置，结果以包含语言代码和编码格式的元组形式呈现。其中 <em>category</em> 可以是除 <a class="reference internal" href="#locale.LC_ALL" title="locale.LC_ALL"><code class="xref py py-const docutils literal notranslate"><span class="pre">LC_ALL</span></code></a> 外的任意 <code class="xref py py-const docutils literal notranslate"><span class="pre">LC_*</span></code> 常量值，默认使用 <a class="reference internal" href="#locale.LC_CTYPE" title="locale.LC_CTYPE"><code class="xref py py-const docutils literal notranslate"><span class="pre">LC_CTYPE</span></code></a>。</p>
<p class="translated">语言代码的格式与 <a class="reference internal" href="#locale-name"><span class="std std-ref">区域设置名称</span></a> 相同，但不包含编码和 <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> 修饰符。如果无法确定其值，语言代码和编码可以为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。&quot;C&quot; 区域设置表示为 <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">None)</span></code>。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.getpreferredencoding">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">getpreferredencoding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">do_setlocale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.getpreferredencoding" title="Link to this definition">¶</a></dt>
<dd><p class="translated">根据用户的偏好，返回用于文本数据的 <a class="reference internal" href="../glossary.html#term-locale-encoding"><span class="xref std std-term">locale encoding</span></a>。用户偏好在不同的系统上有不同的表达方式，而且在某些系统上可能无法以编程方式获取到，所以本函数只是返回猜测结果。</p>
<p class="translated">某些系统必须调用 <a class="reference internal" href="#locale.setlocale" title="locale.setlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">setlocale()</span></code></a> 才能获取用户偏好，所以本函数不是线程安全的。如果不需要或不希望调用 setlocale，<em>do_setlocale</em> 应设为 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
<p class="translated">在 Android 上或者如果启用了 <a class="reference internal" href="os.html#utf8-mode"><span class="std std-ref">Python UTF-8 模式</span></a>，则将始终返回 <code class="docutils literal notranslate"><span class="pre">'utf-8'</span></code>，<a class="reference internal" href="../glossary.html#term-locale-encoding"><span class="xref std std-term">locale encoding</span></a> 和 <em>do_setlocale</em> 参数将被忽略。</p>
<p class="translated"><a class="reference internal" href="../c-api/init_config.html#c-preinit"><span class="std std-ref">Python preinitialization</span></a> 用于配置 LC_CTYPE 区域。还请参阅 <a class="reference internal" href="../glossary.html#term-filesystem-encoding-and-error-handler"><span class="xref std std-term">filesystem encoding and error handler</span></a>。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.7 版本发生变更: </span>目前在 Android 上或者如果启用了 <a class="reference internal" href="os.html#utf8-mode"><span class="std std-ref">Python UTF-8 模式</span></a> 此函数将总是返回 <code class="docutils literal notranslate"><span class="pre">&quot;utf-8&quot;</span></code>。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.getencoding">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">getencoding</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locale.getencoding" title="Link to this definition">¶</a></dt>
<dd><p class="translated">获取当前的 <a class="reference internal" href="../glossary.html#term-locale-encoding"><span class="xref std std-term">locale encoding</span></a>:</p>
<ul class="simple">
<li><p class="translated">在 Android 和 VxWorks 上，将返回 <code class="docutils literal notranslate"><span class="pre">&quot;utf-8&quot;</span></code>。</p></li>
<li><p class="translated">在 Unix 上，将返回当前, return the encoding of the current <a class="reference internal" href="#locale.LC_CTYPE" title="locale.LC_CTYPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">LC_CTYPE</span></code></a> 语言区域的编码格式。 如果 <code class="docutils literal notranslate"><span class="pre">nl_langinfo(CODESET)</span></code> 返回空字符串则将返回 <code class="docutils literal notranslate"><span class="pre">&quot;utf-8&quot;</span></code>: 举例来说，如果当前 LC_CTYPE 语言区域不受支持的时候。</p></li>
<li><p class="translated">在 Windows 上，返回 ANSI 代码页。</p></li>
</ul>
<p class="translated"><a class="reference internal" href="../c-api/init_config.html#c-preinit"><span class="std std-ref">Python preinitialization</span></a> 用于配置 LC_CTYPE 区域。还请参阅 <a class="reference internal" href="../glossary.html#term-filesystem-encoding-and-error-handler"><span class="xref std std-term">filesystem encoding and error handler</span></a>。</p>
<p class="translated">此函数类似于 <a class="reference internal" href="#locale.getpreferredencoding" title="locale.getpreferredencoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">getpreferredencoding(False)</span></code></a>，区别是此函数会忽略 <a class="reference internal" href="os.html#utf8-mode"><span class="std std-ref">Python UTF-8 模式</span></a>。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.11.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.normalize">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">localename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.normalize" title="Link to this definition">¶</a></dt>
<dd><p class="translated">为给定的区域名称返回标准代码。返回的区域代码已经格式化，可供 <a class="reference internal" href="#locale.setlocale" title="locale.setlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">setlocale()</span></code></a> 使用。 如果标准化操作失败，则返回原名称。</p>
<p class="translated">如果给出的编码无法识别，则本函数默认采用区域代码的默认编码，这正类似于 <a class="reference internal" href="#locale.setlocale" title="locale.setlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">setlocale()</span></code></a>。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.strcoll">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">strcoll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.strcoll" title="Link to this definition">¶</a></dt>
<dd><p class="translated">根据当前的 <a class="reference internal" href="#locale.LC_COLLATE" title="locale.LC_COLLATE"><code class="xref py py-const docutils literal notranslate"><span class="pre">LC_COLLATE</span></code></a> 设置，对两个字符串进行比较。与其他比较函数一样，根据 <em>string1</em> 位于 <em>string2</em> 之前、之后或是相同，返回负值、、正值或者 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.strxfrm">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">strxfrm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.strxfrm" title="Link to this definition">¶</a></dt>
<dd><p class="translated">将字符串转换为可用于本地化比较的字符串。例如 <code class="docutils literal notranslate"><span class="pre">strxfrm(s1)</span> <span class="pre">&lt;</span> <span class="pre">strxfrm(s2)</span></code> 相当于 <code class="docutils literal notranslate"><span class="pre">strcoll(s1,</span> <span class="pre">s2)</span> <span class="pre">&lt;</span> <span class="pre">0</span></code>。在重复比较同一个字符串时，可能会用到本函数，比如整理字符串列表时。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.format_string">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">format_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grouping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monetary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.format_string" title="Link to this definition">¶</a></dt>
<dd><p class="translated">根据当前的 <a class="reference internal" href="#locale.LC_NUMERIC" title="locale.LC_NUMERIC"><code class="xref py py-const docutils literal notranslate"><span class="pre">LC_NUMERIC</span></code></a> 设置对数字 <em>val</em> 进行格式化。 此格式将遵循 <code class="docutils literal notranslate"><span class="pre">%</span></code> 运算符的约定。 对于浮点数值，会根据具体情况修改小数点。 如果 <em>grouping</em> 为 <code class="docutils literal notranslate"><span class="pre">True</span></code>，还会将分组纳入考虑。</p>
<p class="translated">若 <em>monetary</em> 为 True，则会用到货币千位分隔符和分组字符串。</p>
<p class="translated">格式化符的处理类似 <code class="docutils literal notranslate"><span class="pre">format</span> <span class="pre">%</span> <span class="pre">val</span></code> ，但会考虑到当前的区域设置。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 3.7 版本发生变更: </span>增加了关键字参数 <em>monetary</em> 。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.currency">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">currency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grouping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">international</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.currency" title="Link to this definition">¶</a></dt>
<dd><p class="translated">根据当前的 <a class="reference internal" href="#locale.LC_MONETARY" title="locale.LC_MONETARY"><code class="xref py py-const docutils literal notranslate"><span class="pre">LC_MONETARY</span></code></a> 设置，对数字 <em>val</em> 进行格式化。</p>
<p class="translated">如果 <em>symbol</em> 为真值则返回的字符串将包括货币符号，该参数默认为真值。 如果 <em>grouping</em> 为 <code class="docutils literal notranslate"><span class="pre">True</span></code> (非默认值)，则会对值进行分组。 如果 <em>international</em> 为 <code class="docutils literal notranslate"><span class="pre">True</span></code> (非默认值)，则会使用国际货币符号。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p class="translated">此函数将不适用于 'C' 语言区域，所以你必须先通过 <a class="reference internal" href="#locale.setlocale" title="locale.setlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">setlocale()</span></code></a> 设置一个语言区域。</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.str">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.str" title="Link to this definition">¶</a></dt>
<dd><p class="translated">对浮点数进行格式化，格式要求与内置函数 <code class="docutils literal notranslate"><span class="pre">str(float)</span></code> 相同，但会考虑小数点。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.delocalize">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">delocalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.delocalize" title="Link to this definition">¶</a></dt>
<dd><p class="translated">根据 <a class="reference internal" href="#locale.LC_NUMERIC" title="locale.LC_NUMERIC"><code class="xref py py-const docutils literal notranslate"><span class="pre">LC_NUMERIC</span></code></a> 的设置，将字符串转换为标准化的数字字符串。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.5.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.localize">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">localize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grouping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monetary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.localize" title="Link to this definition">¶</a></dt>
<dd><p class="translated">根据 <a class="reference internal" href="#locale.LC_NUMERIC" title="locale.LC_NUMERIC"><code class="xref py py-const docutils literal notranslate"><span class="pre">LC_NUMERIC</span></code></a> 的设置，将标准化的数字字符串转换为格式化的字符串。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.10.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.atof">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">atof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.atof" title="Link to this definition">¶</a></dt>
<dd><p class="translated">将一个字符串转换为数字，遵循 <a class="reference internal" href="#locale.LC_NUMERIC" title="locale.LC_NUMERIC"><code class="xref py py-const docutils literal notranslate"><span class="pre">LC_NUMERIC</span></code></a> 设置，通过在 <em>string</em> 上调用 <a class="reference internal" href="#locale.delocalize" title="locale.delocalize"><code class="xref py py-func docutils literal notranslate"><span class="pre">delocalize()</span></code></a> 的结果上调用 <em>func</em> 来实现。</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.atoi">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">atoi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.atoi" title="Link to this definition">¶</a></dt>
<dd><p class="translated">按照 <a class="reference internal" href="#locale.LC_NUMERIC" title="locale.LC_NUMERIC"><code class="xref py py-const docutils literal notranslate"><span class="pre">LC_NUMERIC</span></code></a> 的约定，将字符串转换为整数。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.LC_CTYPE">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">LC_CTYPE</span></span><a class="headerlink" href="#locale.LC_CTYPE" title="Link to this definition">¶</a></dt>
<dd><p class="translated">字符类型函数的语言区域类别。 最重要的是，该类别定义了文件编码格式，即如何将字节解读为 Unicode 码位点。 请参阅 <span class="target" id="index-14"></span><a class="pep reference external" href="https://peps.python.org/pep-0538/"><strong>PEP 538</strong></a> 和 <span class="target" id="index-15"></span><a class="pep reference external" href="https://peps.python.org/pep-0540/"><strong>PEP 540</strong></a> 了解如何将该变量自动强制转换为 <code class="docutils literal notranslate"><span class="pre">C.UTF-8</span></code> 以避免容器中的无效设置或通过远程 SSH 连接传递的不兼容设置所造成的问题。</p>
<p class="translated">Python 在内部并不使用来自 <code class="docutils literal notranslate"><span class="pre">ctype.h</span></code> 的依赖于语言区域的字符转换函数。 相反，<code class="docutils literal notranslate"><span class="pre">pyctype.h</span></code> 提供了独立于语言区域的等价形式如 <a class="reference internal" href="../c-api/conversion.html#c.Py_TOLOWER" title="Py_TOLOWER"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_TOLOWER</span></code></a>。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.LC_COLLATE">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">LC_COLLATE</span></span><a class="headerlink" href="#locale.LC_COLLATE" title="Link to this definition">¶</a></dt>
<dd><p class="translated">字符串排序会用到的区域类别。 将会影响 <a class="reference internal" href="#module-locale" title="locale: Internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code></a> 模块的 <a class="reference internal" href="#locale.strcoll" title="locale.strcoll"><code class="xref py py-func docutils literal notranslate"><span class="pre">strcoll()</span></code></a> 和 <a class="reference internal" href="#locale.strxfrm" title="locale.strxfrm"><code class="xref py py-func docutils literal notranslate"><span class="pre">strxfrm()</span></code></a> 函数。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.LC_TIME">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">LC_TIME</span></span><a class="headerlink" href="#locale.LC_TIME" title="Link to this definition">¶</a></dt>
<dd><p class="translated">格式化时间时会用到的区域类别。 <a class="reference internal" href="time.html#time.strftime" title="time.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a> 函数会参考这些约定。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.LC_MONETARY">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">LC_MONETARY</span></span><a class="headerlink" href="#locale.LC_MONETARY" title="Link to this definition">¶</a></dt>
<dd><p class="translated">格式化货币值时会用到的区域类别。可用值可由 <a class="reference internal" href="#locale.localeconv" title="locale.localeconv"><code class="xref py py-func docutils literal notranslate"><span class="pre">localeconv()</span></code></a> 函数获取。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.LC_MESSAGES">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">LC_MESSAGES</span></span><a class="headerlink" href="#locale.LC_MESSAGES" title="Link to this definition">¶</a></dt>
<dd><p class="translated">显示消息时用到的区域类别。目前 Python 不支持应用定制的本地化消息。 由操作系统显示的消息，比如由 <a class="reference internal" href="os.html#os.strerror" title="os.strerror"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.strerror()</span></code></a> 返回的消息可能会受到该类别的影响。</p>
<p class="translated">这个值在不符合 POSIX 标准的操作系统上可能不可用，最主要是指 Windows。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.LC_NUMERIC">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">LC_NUMERIC</span></span><a class="headerlink" href="#locale.LC_NUMERIC" title="Link to this definition">¶</a></dt>
<dd><p class="translated">用于格式化数字的语言区域类别。 <a class="reference internal" href="#module-locale" title="locale: Internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code></a> 模块的 <a class="reference internal" href="#locale.format_string" title="locale.format_string"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_string()</span></code></a>, <a class="reference internal" href="#locale.atoi" title="locale.atoi"><code class="xref py py-func docutils literal notranslate"><span class="pre">atoi()</span></code></a>, <a class="reference internal" href="#locale.atof" title="locale.atof"><code class="xref py py-func docutils literal notranslate"><span class="pre">atof()</span></code></a> 和 <a class="reference internal" href="#locale.str" title="locale.str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a> 等函数会受到该类别的影响。 其他所有数字格式化操作将不受影响。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.LC_ALL">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">LC_ALL</span></span><a class="headerlink" href="#locale.LC_ALL" title="Link to this definition">¶</a></dt>
<dd><p class="translated">混合所有的区域设置。如果在区域改动时使用该标志，将尝试设置所有类别的区域参数。只要有任何一个类别设置失败，就不会修改任何类别。在使用此标志获取区域设置时，会返回一个代表所有类别设置的字符串。之后可用此字符串恢复设置。</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="locale.CHAR_MAX">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">CHAR_MAX</span></span><a class="headerlink" href="#locale.CHAR_MAX" title="Link to this definition">¶</a></dt>
<dd><p class="translated">一个符号常量， <a class="reference internal" href="#locale.localeconv" title="locale.localeconv"><code class="xref py py-func docutils literal notranslate"><span class="pre">localeconv()</span></code></a> 返回多个值时将会用到。</p>
</dd></dl>

<p class="translated">示例：</p>
<div class="translated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">locale</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loc</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">getlocale</span><span class="p">()</span>  <span class="c1"># 获取当前语言区域</span>
<span class="go"># 使用德语的语言区域；在具体平台上名称可能不同</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s1">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locale</span><span class="o">.</span><span class="n">strcoll</span><span class="p">(</span><span class="s1">&#39;f</span><span class="se">\xe4</span><span class="s1">n&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>  <span class="c1"># 比较一个包含变音的字符串</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>   <span class="c1"># 使用用户首选的语言区域</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">)</span>  <span class="c1"># 使用默认的语言区域 (C)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>  <span class="c1"># 恢复已保存的语言区域</span>
</pre></div>
</div>
<section id="background-details-hints-tips-and-caveats">
<h2 class="translated">背景、细节、提示、技巧和注意事项<a class="headerlink" href="#background-details-hints-tips-and-caveats" title="Link to this heading">¶</a></h2>
<p class="translated">C 语言标准将区域定义为程序级别的属性，修改的代价可能相对较高。此外，有某些实现代码写得不好，频繁改变区域可能会导致内核崩溃。于是要想正确使用区域就变得有些痛苦。</p>
<p class="translated">当程序第一次启动时，无论用户偏好定义成什么，区域值都是 <code class="docutils literal notranslate"><span class="pre">C</span></code>。不过有一个例外，就是在启动时修改 <a class="reference internal" href="#locale.LC_CTYPE" title="locale.LC_CTYPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">LC_CTYPE</span></code></a> 类别，设置当前区域编码为用户偏好编码。程序必须调用 <code class="docutils literal notranslate"><span class="pre">setlocale(LC_ALL,</span> <span class="pre">'')</span></code> 明确表示用户偏好区域将设为其他类别。</p>
<p class="translated">若要从库程序中调用 <a class="reference internal" href="#locale.setlocale" title="locale.setlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">setlocale()</span></code></a> ，通常这不是个好主意，因为副作用是会影响整个程序。保存和恢复区域设置也几乎一样糟糕：不仅代价高昂，而且会影响到恢复之前运行的其他线程。</p>
<p class="translated">如果是要编写通用模块，需要有一种不受区域设置影响的操作方式（比如某些用到 <a class="reference internal" href="time.html#time.strftime" title="time.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a> 的格式），将不得不寻找一种不用标准库的方案。更好的办法是说服自己，可以采纳区域设置。只有在万不得已的情况下，才能用文档标注出模块与非 <code class="docutils literal notranslate"><span class="pre">C</span></code> 区域设置不兼容。</p>
<p class="translated">根据语言区域执行数字运算的唯一方式就是使用本模块所定义的特殊函数: <a class="reference internal" href="#locale.atof" title="locale.atof"><code class="xref py py-func docutils literal notranslate"><span class="pre">atof()</span></code></a>, <a class="reference internal" href="#locale.atoi" title="locale.atoi"><code class="xref py py-func docutils literal notranslate"><span class="pre">atoi()</span></code></a>, <a class="reference internal" href="#locale.format_string" title="locale.format_string"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_string()</span></code></a>, <a class="reference internal" href="#locale.str" title="locale.str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a>。</p>
<p class="translated">无法根据区域设置进行大小写转换和字符分类。对于（Unicode）文本字符串来说，这些操作都是根据字符值进行的；而对于字节符串来说，转换和分类则是根据字节的 ASCII 值进行的，高位被置位的字节（即非 ASCII 字节）永远不会被转换或被视作字母或空白符之类。</p>
</section>
<section id="locale-names">
<span id="locale-name"></span><h2 class="translated">区域设置名称<a class="headerlink" href="#locale-names" title="Link to this heading">¶</a></h2>
<p class="translated">区域名称的格式取决于平台，且支持的区域设置集合可能因系统配置而异。</p>
<p class="translated">在 Posix 平台上，其格式通常为 <a class="footnote-reference brackets" href="#id4" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>:</p>
<pre class="highlight">
  language [<span class="sx">&quot;_&quot;</span> territory] [<span class="sx">&quot;.&quot;</span> charset] [<span class="sx">&quot;&#64;&quot;</span> modifier]
</pre>
<p class="translated">其中 <em>language</em> 是来自 <a class="reference external" href="https://www.iso.org/iso-639-language-code">ISO 639</a> 的二或三字母语言代码，<em>territory</em> 是来自 <a class="reference external" href="https://www.iso.org/iso-3166-country-codes.html">ISO 3166</a> 的二字母国家或地区代码，<em>charset</em> 是语言区域编码格式，而 <em>modifier</em> 是脚本名称、语言子标签、排序顺序标识符或其他语言区域修饰符（例如 &quot;latin&quot;, &quot;valencia&quot;, &quot;stroke&quot; 和 &quot;euro&quot;）。</p>
<p class="translated">在 Windows 系统上，支持多种格式。<a class="footnote-reference brackets" href="#id5" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> <a class="footnote-reference brackets" href="#id6" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> <a class="reference external" href="https://www.rfc-editor.org/info/bcp47">IETF BCP 47</a> 标准的子集标签：</p>
<pre class="highlight">
  language [<span class="sx">&quot;-&quot;</span> script] [<span class="sx">&quot;-&quot;</span> territory] [<span class="sx">&quot;.&quot;</span> charset]
  language [<span class="sx">&quot;-&quot;</span> script] <span class="sx">&quot;-&quot;</span> territory <span class="sx">&quot;-&quot;</span> modifier
</pre>
<p class="translated">其中，<em>language</em> 和 <em>territory</em> 的含义与 POSIX 系统中的定义相同；<em>script</em> 是来自 <a class="reference external" href="https://www.unicode.org/iso15924/">ISO 15924</a> 标准的四字母书写系统代码；而 <em>modifier</em> 可以是语言子标签、排序顺序标识符或自定义修饰符（例如：“valencia”、“stroke”或“x-python”）。系统同时支持连字符（<code class="docutils literal notranslate"><span class="pre">'-'</span></code>）和下划线（<code class="docutils literal notranslate"><span class="pre">'_'</span></code>）作为分隔符。对于 BCP 47 标签，仅允许使用 UTF-8 编码格式。</p>
<p class="translated">Windows 还支持以下格式的区域设置名称：</p>
<pre class="highlight">
  language [<span class="sx">&quot;_&quot;</span> territory] [<span class="sx">&quot;.&quot;</span> charset]
</pre>
<p class="translated">其中 <em>language</em> 和 <em>territory</em> 使用完整名称（如 &quot;English&quot; 和 &quot;United States&quot;），而 <em>charset</em> 可以是代码页编号（例如 &quot;1252&quot;）或 UTF-8。此格式仅支持下划线作为分隔符。</p>
<p class="translated">所有平台均支持 &quot;C&quot; 区域设置。</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id4" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p class="translated"><a class="reference external" href="https://pubs.opengroup.org/onlinepubs/9799919799/basedefs/V1_chap08.html#tag_08_02">IEEE Std 1003.1-2024; 8.2 国际化变量</a></p>
</aside>
<aside class="footnote brackets" id="id5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p class="translated"><a class="reference external" href="https://learn.microsoft.com/en-us/cpp/c-runtime-library/locale-names-languages-and-country-region-strings">UCRT 区域名称、语言和国家/地区字符串</a></p>
</aside>
<aside class="footnote brackets" id="id6" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p class="translated"><a class="reference external" href="https://learn.microsoft.com/en-us/windows/win32/intl/locale-names">区域设置名称</a></p>
</aside>
</aside>
</section>
<section id="for-extension-writers-and-programs-that-embed-python">
<span id="embedding-locale"></span><h2 class="translated">针对扩展程序编写人员和嵌入Python 运行的程序<a class="headerlink" href="#for-extension-writers-and-programs-that-embed-python" title="Link to this heading">¶</a></h2>
<p class="translated">除了要查询当前区域，扩展模块不应去调用 <a class="reference internal" href="#locale.setlocale" title="locale.setlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">setlocale()</span></code></a>。但由于返回值只能用于恢复设置，所以也没什么用（也许只能用于确认是否为 <code class="docutils literal notranslate"><span class="pre">C</span></code>）。</p>
<p class="translated">当 Python 代码使用 <a class="reference internal" href="#module-locale" title="locale: Internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code></a> 模块来修改语言区域时，这也会影响到嵌入的应用程序。 如果嵌入的应用程序不希望发生这种情况，它应当从 <code class="file docutils literal notranslate"><span class="pre">config.c</span></code> 文件的内置模块表中移除 <code class="xref py py-mod docutils literal notranslate"><span class="pre">_locale</span></code> 扩展模块（所有工作都是由它完成的），以确保 <code class="xref py py-mod docutils literal notranslate"><span class="pre">_locale</span></code> 模块不能作为共享库来访问。</p>
</section>
<section id="access-to-message-catalogs">
<span id="locale-gettext"></span><h2 class="translated">访问消息目录<a class="headerlink" href="#access-to-message-catalogs" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="locale.gettext">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">gettext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.gettext" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.dgettext">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">dgettext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.dgettext" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.dcgettext">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">dcgettext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.dcgettext" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.textdomain">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">textdomain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.textdomain" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.bindtextdomain">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">bindtextdomain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.bindtextdomain" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="locale.bind_textdomain_codeset">
<span class="sig-prename descclassname"><span class="pre">locale.</span></span><span class="sig-name descname"><span class="pre">bind_textdomain_codeset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">codeset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#locale.bind_textdomain_codeset" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p class="translated">locale 模块在提供了 C 库的 gettext 接口的系统上对外公开该接口。 它由 <a class="reference internal" href="gettext.html#module-gettext" title="gettext: Multilingual internationalization services."><code class="xref py py-func docutils literal notranslate"><span class="pre">gettext()</span></code></a>, <a class="reference internal" href="#locale.dgettext" title="locale.dgettext"><code class="xref py py-func docutils literal notranslate"><span class="pre">dgettext()</span></code></a>, <a class="reference internal" href="#locale.dcgettext" title="locale.dcgettext"><code class="xref py py-func docutils literal notranslate"><span class="pre">dcgettext()</span></code></a>, <a class="reference internal" href="#locale.textdomain" title="locale.textdomain"><code class="xref py py-func docutils literal notranslate"><span class="pre">textdomain()</span></code></a>, <a class="reference internal" href="#locale.bindtextdomain" title="locale.bindtextdomain"><code class="xref py py-func docutils literal notranslate"><span class="pre">bindtextdomain()</span></code></a> 和 <a class="reference internal" href="#locale.bind_textdomain_codeset" title="locale.bind_textdomain_codeset"><code class="xref py py-func docutils literal notranslate"><span class="pre">bind_textdomain_codeset()</span></code></a> 等函数组成。 它们与 <a class="reference internal" href="gettext.html#module-gettext" title="gettext: Multilingual internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gettext</span></code></a> 模块中的同名函数类似，但使用了 C 库的二进制格式来表示消息目录，并使用 C 库的搜索算法来查找消息目录。</p>
<p class="translated">Python 应用程序通常不需要唤起这些函数，而应当改用 <a class="reference internal" href="gettext.html#module-gettext" title="gettext: Multilingual internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gettext</span></code></a>。 这条规则的一个已知例外是与附加 C 库相链接的应用程序，它们会在内部唤起 C 函数 <code class="docutils literal notranslate"><span class="pre">gettext</span></code> 或 <code class="docutils literal notranslate"><span class="pre">dcgettext</span></code>。 对于这些应用程序，可能有必要绑定文本域，以便库能够正确地找到它们的消息目录。</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code> --- 国际化服务</a><ul>
<li><a class="reference internal" href="#background-details-hints-tips-and-caveats">背景、细节、提示、技巧和注意事项</a></li>
<li><a class="reference internal" href="#locale-names">区域设置名称</a></li>
<li><a class="reference internal" href="#for-extension-writers-and-programs-that-embed-python">针对扩展程序编写人员和嵌入Python 运行的程序</a></li>
<li><a class="reference internal" href="#access-to-message-catalogs">访问消息目录</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一主题</h4>
    <p class="topless"><a href="gettext.html"
                          title="上一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">gettext</span></code> --- 多语种国际化服务</a></p>
  </div>
  <div>
    <h4>下一主题</h4>
    <p class="topless"><a href="tk.html"
                          title="下一章">使用 Tk 创建图形用户界面</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>当前页</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">报告代码错误</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/locale.rst?plain=1"
            rel="nofollow">显示源码
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="折叠边栏">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="Related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="tk.html" title="使用 Tk 创建图形用户界面"
             >下一页</a> |</li>
        <li class="right" >
          <a href="gettext.html" title="gettext --- 多语种国际化服务"
             >上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.14.0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 标准库</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="i18n.html" >国际化</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">locale</span></code> --- 国际化服务</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="search" name="q" id="search-box">
          <input type="submit" value="转到">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    主题
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>自动</option>
        <option value="light">明亮</option>
        <option value="dark">黑暗</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">版权</a> 2001 Python Software Foundation.
    <br>
    本页面采用 Python 软件基金会许可证第 2 版授权。
    <br>
    文档中的示例、代码片段及其他代码内容额外采用零条款 BSD 许可证授权。
    <br>
    
      更多信息请参阅《<a href="/license.html"> 历史与许可 </a>》。<br>
    
    
    <br>

    Python 软件基金会是一家非营利性公司。
<a href="https://www.python.org/psf/donations/">请进行捐赠。</a>
<br>
    <br>
      最后更新于11月 25, 2025 (07:24 UTC) 。
    
      <a href="/bugs.html">发现了错误</a>？
    
    <br>

    使用<a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3 创建。
    </div>

  </body>
</html>